(function(e,t){function _(e){var t=M[e]={};v.each(e.split(y),function(e,n){t[n]=!0});return t}function H(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(P,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:+r+""===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t==="data"&&v.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle;o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes();t.mergeAttributes&&t.mergeAttributes(e);n=t.nodeName.toLowerCase();if(n==="object"){t.parentNode&&(t.outerHTML=e.outerHTML);v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)}else if(n==="input"&&Et.test(e.type)){t.defaultChecked=t.checked=e.checked;t.value!==e.value&&(t.value=e.value)}else n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text);t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){e=t||e;return v.css(e,"display")==="none"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,"olddisplay");if(t){!i[s]&&n.style.display==="none"&&(n.style.display="");n.style.display===""&&Gt(n)&&(i[s]=v._data(n,"olddisplay",nn(n.nodeName)))}else{r=Dt(n,"display");!i[s]&&r!=="none"&&v._data(n,"olddisplay",r)}}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display==="none"||n.style.display==="")n.style.display=t?i[s]||"":"none"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function en(e,t,n,r){var i=n===(r?"border":"content")?4:t==="width"?1:0,s=0;for(;i<4;i+=2){n==="margin"&&(s+=v.css(e,n+$t[i],!0));if(r){n==="content"&&(s-=parseFloat(Dt(e,"padding"+$t[i]))||0);n!=="margin"&&(s-=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)}else{s+=parseFloat(Dt(e,"padding"+$t[i]))||0;n!=="padding"&&(s+=parseFloat(Dt(e,"border"+$t[i]+"Width"))||0)}}return s}function tn(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,"boxSizing")==="border-box";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]);r=parseFloat(r)||0}return r+en(e,t,n||(s?"border":"content"),i)+"px"}function nn(e){if(Wt[e])return Wt[e];var t=v("<"+e+">").appendTo(i.body),n=t.css("display");t.remove();if(n==="none"||n===""){Pt=i.body.appendChild(Pt||v.extend(i.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement){Ht=(Pt.contentWindow||Pt.contentDocument).document;Ht.write("<!doctype html><html><body>");Ht.close()}t=Ht.body.appendChild(Ht.createElement(e));n=Dt(t,"display");i.body.removeChild(Pt)}Wt[e]=n;return n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&v.type(t)==="object")for(i in t)fn(e+"["+i+"]",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){if(typeof t!="string"){n=t;t="*"}var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++){r=o[u];s=/^\+/.test(r);s&&(r=r.substr(1)||"*");i=e[r]=e[r]||[];i[s?"unshift":"push"](n)}}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0];o=o||{};o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++){u=a[f](n,r,i);if(typeof u=="string")if(!c||o[u])u=t;else{n.dataTypes.unshift(u);u=kn(e,n,r,i,u,o)}}(c||!u)&&!o["*"]&&(u=kn(e,n,r,i,"*",o));return u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]==="*"){f.shift();i===t&&(i=e.mimeType||n.getResponseHeader("content-type"))}if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+" "+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o){o!==f[0]&&f.unshift(o);return r[o]}}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!=="*"){if(u!=="*"&&u!==i){n=a[u+" "+i]||a["* "+i];if(!n)for(r in a){s=r.split(" ");if(s[1]===i){n=a[u+" "+s[0]]||a["* "+s[0]];if(n){if(n===!0)n=a[r];else if(a[r]!==!0){i=s[0];o.splice(f--,0,i)}break}}}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(l){return{state:"parsererror",error:n?l:"No conversion from "+u+" to "+i}}}u=i}return{state:"success",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function $n(){setTimeout(function(){qn=t},0);return qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn["*"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=1-(n/f.duration||0),i=0,s=f.tweens.length;for(;i<s;i++)f.tweens[i].run(r);u.notifyWith(e,[f,r,n]);if(r<1&&s)return n;u.resolveWith(e,[f]);return!1},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);f.tweens.push(i);return i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]);return this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}Jn(f,l);v.isFunction(f.opts.start)&&f.opts.start.call(e,f);v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e}));return f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n);i=t[r];s=e[n];if(v.isArray(s)){i=s[1];s=e[n]=s[0]}if(n!==r){e[r]=s;delete e[n]}o=v.cssHooks[r];if(o&&"expand"in o){s=o.expand(s);delete e[r];for(n in s)if(!(n in e)){e[n]=s[n];t[n]=i}}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c=this,h=e.style,p={},d=[],m=e.nodeType&&Gt(e);if(!n.queue){f=v._queueHooks(e,"fx");if(f.unqueued==null){f.unqueued=0;l=f.empty.fire;f.empty.fire=function(){f.unqueued||l()}}f.unqueued++;c.always(function(){c.always(function(){f.unqueued--;v.queue(e,"fx").length||f.empty.fire()})})}if(e.nodeType===1&&("height"in t||"width"in t)){n.overflow=[h.overflow,h.overflowX,h.overflowY];v.css(e,"display")==="inline"&&v.css(e,"float")==="none"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)==="inline"?h.display="inline-block":h.zoom=1)}if(n.overflow){h.overflow="hidden";v.support.shrinkWrapBlocks||c.done(function(){h.overflow=n.overflow[0];h.overflowX=n.overflow[1];h.overflowY=n.overflow[2]})}for(r in t){s=t[r];if(Un.exec(s)){delete t[r];if(s===(m?"hide":"show"))continue;d.push(r)}}o=d.length;if(o){u=v._data(e,"fxshow")||v._data(e,"fxshow",{});m?v(e).show():c.done(function(){v(e).hide()});c.done(function(){var t;v.removeData(e,"fxshow",!0);for(t in p)v.style(e,t,p[t])});for(r=0;r<o;r++){i=d[r];a=c.createTween(i,m?u[i]:0);p[i]=u[i]||v.style(e,i);if(!(i in u)){u[i]=a.start;if(m){a.end=a.start;a.start=i==="width"||i==="height"?1:0}}}}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t){n=$t[i];r["margin"+n]=r["padding"+n]=e}t&&(r.opacity=r.width=e);return r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,y=/\s+/,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,T=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,N=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,C=/^-ms-/,k=/-([\da-z])/gi,L=function(e,t){return(t+"").toUpperCase()},A=function(){if(i.addEventListener){i.removeEventListener("DOMContentLoaded",A,!1);v.ready()}else if(i.readyState==="complete"){i.detachEvent("onreadystatechange",A);v.ready()}},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1]){n=n instanceof v?n[0]:n;a=n&&n.nodeType?n.ownerDocument||n:i;e=v.parseHTML(s[1],a,!0);E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0);return v.merge(this,e)}o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1;this[0]=o}this.context=i;this.selector=e;return this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}if(v.isFunction(e))return r.ready(e);if(e.selector!==t){this.selector=e.selector;this.context=e.context}return v.makeArray(e,this)},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);r.prevObject=this;r.context=this.context;t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")");return r},each:function(e,t){return v.each(this,e,t)},ready:function(e){v.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),"slice",l.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice};v.fn.init.prototype=v.fn;v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;if(typeof u=="boolean"){l=u;u=arguments[1]||{};a=2}typeof u!="object"&&!v.isFunction(u)&&(u={});if(f===a){u=this;--a}for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n];i=e[n];if(u===i)continue;if(l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))){if(s){s=!1;o=r&&v.isArray(r)?r:[]}else o=r&&v.isPlainObject(r)?r:{};u[n]=v.extend(l,o,i)}else i!==t&&(u[n]=i)}return u};v.extend({noConflict:function(t){e.$===v&&(e.$=a);t&&e.jQuery===v&&(e.jQuery=u);return v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]);v.fn.trigger&&v(i).trigger("ready").off("ready")},isFunction:function(e){return v.type(e)==="function"},isArray:Array.isArray||function(e){return v.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||"object"},isPlainObject:function(e){if(!e||v.type(e)!=="object"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,"constructor")&&!p.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;if(!e||typeof e!="string")return null;if(typeof t=="boolean"){n=t;t=0}t=t||i;if(r=E.exec(e))return[t.createElement(r[1])];r=v.buildFragment([e],t,n?null:[]);return v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)},parseJSON:function(t){if(!t||typeof t!="string")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,"@").replace(N,"]").replace(x,"")))return(new Function("return "+t))();v.error("Invalid JSON: "+t)},parseXML:function(n){var r,i;if(!n||typeof n!="string")return null;try{if(e.DOMParser){i=new DOMParser;r=i.parseFromString(n,"text/xml")}else{r=new ActiveXObject("Microsoft.XMLDOM");r.async="false";r.loadXML(n)}}catch(s){r=t}(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&v.error("Invalid XML: "+n);return r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,"ms-").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call("﻿ ")?function(e){return e==null?"":d.call(e)}:function(e){return e==null?"":(e+"").replace(b,"")},makeArray:function(e,t){var n,r=t||[];if(e!=null){n=v.type(e);e.length==null||n==="string"||n==="function"||n==="regexp"||v.isWindow(e)?f.call(r,e):v.merge(r,e)}return r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length;n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r=="number")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];e.length=i;return e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++){r=!!t(e[s],s);n!==r&&i.push(e[s])}return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a=="number"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++){i=n(e[u],u,r);i!=null&&(o[o.length]=i)}else for(s in e){i=n(e[s],s,r);i!=null&&(o[o.length]=i)}return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;if(typeof n=="string"){r=e[n];n=e;e=r}if(!v.isFunction(e))return t;i=l.call(arguments,2);s=function(){return e.apply(n,i.concat(l.call(arguments)))};s.guid=e.guid=e.guid||v.guid++;return s},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r=="object"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i);if(f)if(a){a=n;n=function(e,t,n){return a.call(v(e),n)}}else{n.call(e,i);n=null}if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}});v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState==="complete")setTimeout(v.ready,1);else if(i.addEventListener){i.addEventListener("DOMContentLoaded",A,!1);e.addEventListener("load",v.ready,!1)}else{i.attachEvent("onreadystatechange",A);e.attachEvent("onload",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll("left")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)};v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){O["[object "+t+"]"]=t.toLowerCase()});n=v(i);var M={};v.Callbacks=function(e){e=typeof e=="string"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t;r=!0;u=s||0;s=0;o=a.length;i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1;a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i==="function"&&(!e.unique||!c.has(n))?a.push(n):n&&n.length&&i!=="string"&&r(n)})})(arguments);if(i)o=a.length;else if(n){s=t;l(n)}}return this},remove:function(){a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1){a.splice(n,1);if(i){n<=o&&o--;n<=u&&u--}}});return this},has:function(e){return v.inArray(e,a)>-1},empty:function(){a=[];return this},disable:function(){a=f=n=t;return this},disabled:function(){return!a},lock:function(){f=t;n||c.disable();return this},locked:function(){return!f},fireWith:function(e,t){t=t||[];t=[e,t.slice?t.slice():t];a&&(!r||f)&&(i?f.push(t):l(t));return this},fire:function(){c.fireWith(this,arguments);return this},fired:function(){return!!r}};return c};v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){i.done(arguments).fail(arguments);return this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n:this,[e])}:n[s])});e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};r.pipe=r.then;v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add;u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock);i[s[0]]=o.fire;i[s[0]+"With"]=o.fireWith});r.promise(i);e&&e.call(i,i);return i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this;n[e]=arguments.length>1?l.call(arguments):r;n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r);a=new Array(r);f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}i||s.resolveWith(f,n);return s.promise()}});v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement("div");p.setAttribute("className","t");p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";n=p.getElementsByTagName("*");r=p.getElementsByTagName("a")[0];r.style.cssText="top:1px;float:left;opacity:.5";if(!n||!n.length)return{};s=i.createElement("select");o=s.appendChild(i.createElement("option"));u=p.getElementsByTagName("input")[0];t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value==="on",optSelected:o.selected,getSetAttribute:p.className!=="t",enctype:!!i.createElement("form").enctype,html5Clone:i.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:i.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};u.checked=!0;t.noCloneChecked=u.cloneNode(!0).checked;s.disabled=!0;t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent){p.attachEvent("onclick",h=function(){t.noCloneEvent=!1});p.cloneNode(!0).fireEvent("onclick");p.detachEvent("onclick",h)}u=i.createElement("input");u.value="t";u.setAttribute("type","radio");t.radioValue=u.value==="t";u.setAttribute("checked","checked");u.setAttribute("name","t");p.appendChild(u);a=i.createDocumentFragment();a.appendChild(p.lastChild);t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;t.appendChecked=u.checked;a.removeChild(u);a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0}){f="on"+l;c=f in p;if(!c){p.setAttribute(f,"return;");c=typeof p[f]=="function"}t[l+"Bubbles"]=c}v(function(){var n,r,s,o,u="padding:0;margin:0;border:0;display:block;overflow:hidden;",a=i.getElementsByTagName("body")[0];if(!a)return;n=i.createElement("div");n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";a.insertBefore(n,a.firstChild);r=i.createElement("div");n.appendChild(r);r.innerHTML="<table><tr><td></td><td>t</td></tr></table>";s=r.getElementsByTagName("td");s[0].style.cssText="padding:0;margin:0;border:0;display:none";c=s[0].offsetHeight===0;s[0].style.display="";s[1].style.display="none";t.reliableHiddenOffsets=c&&s[0].offsetHeight===0;r.innerHTML="";r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";t.boxSizing=r.offsetWidth===4;t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1;if(e.getComputedStyle){t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!=="1%";t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:"4px"}).width==="4px";o=i.createElement("div");o.style.cssText=r.style.cssText=u;o.style.marginRight=o.style.width="0";r.style.width="1px";r.appendChild(o);t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)}if(typeof r.style.zoom!="undefined"){r.innerHTML="";r.style.cssText=u+"width:1px;padding:1px;display:inline;zoom:1";t.inlineBlockNeedsLayout=r.offsetWidth===3;r.style.display="block";r.style.overflow="visible";r.innerHTML="<div></div>";r.firstChild.style.width="5px";t.shrinkWrapBlocks=r.offsetWidth!==3;n.style.zoom=1}a.removeChild(n);n=r=s=o=null});a.removeChild(p);n=r=s=o=u=a=p=null;return t}();var D=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(v.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){e=e.nodeType?v.cache[e[v.expando]]:e[v.expando];return!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n=="string",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u);if(!l[c]){l[c]={};f||(l[c].toJSON=v.noop)}if(typeof n=="object"||typeof n=="function")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);s=l[c];if(!i){s.data||(s.data={});s=s.data}r!==t&&(s[v.camelCase(n)]=r);if(a){o=s[n];o==null&&(o=s[v.camelCase(n)])}else o=s;return o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){if(!v.isArray(t))if(t in r)t=[t];else{t=v.camelCase(t);t in r?t=[t]:t=t.split(" ")}for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}});v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++){o=s[f].name;if(!o.indexOf("data-")){o=v.camelCase(o.substring(5));H(a,o,l[o])}}v._data(a,"parsedAttrs",!0)}}return l}if(typeof e=="object")return this.each(function(){v.data(this,e)});r=e.split(".",2);r[1]=r[1]?"."+r[1]:"";i=r[1]+"!";return v.access(this,function(n){if(n===t){l=this.triggerHandler("getData"+i,[r[0]]);if(l===t&&a){l=v.data(a,e);l=H(a,e,l)}return l===t&&r[1]?this.data(r[0]):l}r[1]=n;this.each(function(){var t=v(this);t.triggerHandler("setData"+i,r);v.data(this,e,n);t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1)},removeData:function(e){return this.each(function(){v.removeData(this,e)})}});v.extend({queue:function(e,t,n){var r;if(e){t=(t||"fx")+"queue";r=v._data(e,t);n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n));return r||[]}},dequeue:function(e,t){t=t||"fx";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};if(i==="inprogress"){i=n.shift();r--}if(i){t==="fx"&&n.unshift("inprogress");delete s.stop;i.call(e,o,s)}!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0);v.removeData(e,n,!0)})})}});v.fn.extend({queue:function(e,n){var r=2;if(typeof e!="string"){n=e;e="fx";r--}return arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e);e==="fx"&&t[0]!=="inprogress"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){e=v.fx?v.fx.speeds[e]||e:e;t=t||"fx";return this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};if(typeof e!="string"){n=e;e=t}e=e||"fx";while(u--){r=v._data(o[u],e+"queueHooks");if(r&&r.empty){i++;r.empty.add(a)}}a();return s.promise(n)}});var j,F,I,q=/[\t\r\n]/g,R=/\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){e=v.propFix[e]||e;return this.each(function(){try{this[e]=t;delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)s.indexOf(" "+t[o]+" ")<0&&(s+=t[o]+" ");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(" "+i.className+" ").replace(q," ");for(s=0,o=n.length;s<o;s++)while(r.indexOf(" "+n[s]+" ")>=0)r=r.replace(" "+n[s]+" "," ");i.className=e?v.trim(r):""}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++]){u=r?u:!o.hasClass(i);o[u?"addClass":"removeClass"](i)}}else if(n==="undefined"||n==="boolean"){this.className&&v._data(this,"__className__",this.className);this.className=this.className||e===!1?"":v._data(this,"__className__")||""}})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s){n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()];if(n&&"get"in n&&(r=n.get(s,"value"))!==t)return r;r=s.value;return typeof r=="string"?r.replace(R,""):r==null?"":r}return}i=v.isFunction(e);return this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e;s==null?s="":typeof s=="number"?s+="":v.isArray(s)&&(s=v.map(s,function(e){return e==null?"":e+""}));n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,s,"value")===t)this.value=s})}});v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0;r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(v.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!v.nodeName(i.parentNode,"optgroup"))){t=v(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?v(u[s]).val():o},set:function(e,t){var n=v.makeArray(t);v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),n)>=0});n.length||(e.selectedIndex=-1);return n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute=="undefined")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e);if(u){n=n.toLowerCase();o=v.attrHooks[n]||(X.test(n)?F:j)}if(r!==t){if(r===null){v.removeAttr(e,n);return}if(o&&"set"in o&&u&&(s=o.set(e,r,n))!==t)return s;e.setAttribute(n,r+"");return r}if(o&&"get"in o&&u&&(s=o.get(e,n))!==null)return s;s=e.getAttribute(n);return s===null?t:s},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++){i=r[o];if(i){n=v.propFix[i]||i;s=X.test(i);s||v.attr(e,i,"");e.removeAttribute(V?i:n);s&&n in e&&(e[n]=!1)}}}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed");else if(!v.support.radioValue&&t==="radio"&&v.nodeName(e,"input")){var n=e.value;e.setAttribute("type",t);n&&(e.value=n);return t}}},value:{get:function(e,t){return j&&v.nodeName(e,"button")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,"button"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;o=u!==1||!v.isXMLDoc(e);if(o){n=v.propFix[n]||n;s=v.propHooks[n]}return r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}});F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;if(t===!1)v.removeAttr(e,n);else{r=v.propFix[n]||n;r in e&&(e[r]=!0);e.setAttribute(n,n.toLowerCase())}return n}};if(!V){I={name:!0,id:!0,coords:!0};j=v.valHooks.button={get:function(e,n){var r;r=e.getAttributeNode(n);return r&&(I[n]?r.value!=="":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);if(!r){r=i.createAttribute(n);e.setAttributeNode(r)}return r.value=t+""}};v.each(["width","height"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n===""){e.setAttribute(t,"auto");return n}}})});v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===""&&(t="false");j.set(e,t,n)}}}v.support.hrefNormalized||v.each(["href","src","width","height"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})});v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}});v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;if(t){t.selectedIndex;t.parentNode&&t.parentNode.selectedIndex}return null}}));v.support.enctype||(v.propFix.enctype="encoding");v.support.checkOn||v.each(["radio","checkbox"],function(){v.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}});v.each(["radio","checkbox"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\.]*|)(?:\.(.+)|)$/,K=/(?:^|\s)hover(\.\S+|)\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,"mouseenter$1 mouseleave$1")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;if(r.handler){d=r;r=d.handler;s=d.selector}r.guid||(r.guid=v.guid++);a=o.events;a||(o.events=a={});u=o.handle;if(!u){o.handle=u=function(e){return typeof v=="undefined"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)};u.elem=e}n=v.trim(Z(n)).split(" ");for(f=0;f<n.length;f++){l=J.exec(n[f])||[];c=l[1];h=(l[2]||"").split(".").sort();g=v.event.special[c]||{};c=(s?g.delegateType:g.bindType)||c;g=v.event.special[c]||{};p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(".")},d);m=a[c];if(!m){m=a[c]=[];m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}if(g.add){g.add.call(e,p);p.handler.guid||(p.handler.guid=r.guid)}s?m.splice(m.delegateCount++,0,p):m.push(p);v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||"")).split(" ");for(s=0;s<t.length;s++){o=J.exec(t[s])||[];u=a=o[1];f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{};u=(r?p.delegateType:p.bindType)||u;d=h[u]||[];l=d.length;f=f?new RegExp("(^|\\.)"+f.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(c=0;c<d.length;c++){m=d[c];if((i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r==="**"&&m.selector)){d.splice(c--,1);m.selector&&d.delegateCount--;p.remove&&p.remove.call(e,m)}}if(d.length===0&&l!==d.length){(!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle);delete h[u]}}if(v.isEmptyObject(h)){delete g.handle;v.removeData(e,"events",!0)}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;if(y.indexOf("!")>=0){y=y.slice(0,-1);a=!0}if(y.indexOf(".")>=0){b=y.split(".");y=b.shift();b.sort()}if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n=="object"?n[v.expando]?n:new v.Event(y,n):new v.Event(y);n.type=y;n.isTrigger=!0;n.exclusive=a;n.namespace=b.join(".");n.namespace_re=n.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;h=y.indexOf(":")<0?"on"+y:"";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t;n.target||(n.target=s);r=r!=null?v.makeArray(r):[];r.unshift(n);p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y;l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode){m.push([l,g]);c=l}c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++){l=m[f][0];n.type=m[f][1];d=(v._data(l,"events")||{})[n.type]&&v._data(l,"handle");d&&d.apply(l,r);d=h&&l[h];d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault()}n.type=y;if(!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!=="click"||!v.nodeName(s,"a"))&&v.acceptData(s)&&h&&s[y]&&(y!=="focus"&&y!=="blur"||n.target.offsetWidth!==0)&&!v.isWindow(s)){c=s[h];c&&(s[h]=null);v.event.triggered=y;s[y]();v.event.triggered=t;c&&(s[h]=c)}return n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,"events")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n;n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!=="click"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!=="click"){u={};f=[];for(r=0;r<m;r++){c=d[r];h=c.selector;u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length);u[h]&&f.push(c)}f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r];n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace)){n.data=c.data;n.handleObj=c;o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g);if(o!==t){n.result=o;if(o===!1){n.preventDefault();n.stopPropagation()}}}}}b.postDispatch&&b.postDispatch.call(this,n);return n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode);return e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;if(e.pageX==null&&n.clientX!=null){r=e.target.ownerDocument||i;s=r.documentElement;o=r.body;e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0);e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)}!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a);!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0);return e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;){n=o[--t];e[n]=r[n]}e.target||(e.target=r.srcElement||i);e.target.nodeType===3&&(e.target=e.target.parentNode);e.metaKey=!!e.metaKey;return s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i);i.isDefaultPrevented()&&n.preventDefault()}};v.event.handle=v.event.dispatch;v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;if(e.detachEvent){typeof e[r]=="undefined"&&(e[r]=null);e.detachEvent(r,n)}};v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et}else this.type=e;t&&v.extend(this,t);this.timeStamp=e&&e.timeStamp||v.now();this[v.expando]=!0};v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation();e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt;this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et};v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i)){e.type=s.origType;n=s.handler.apply(this,arguments);e.type=t}return n}}});v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,"form"))return!1;v.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=v.nodeName(n,"input")||v.nodeName(n,"button")?n.form:t;if(r&&!v._data(r,"_submit_attached")){v.event.add(r,"submit._submit",function(e){e._submit_bubble=!0});v._data(r,"_submit_attached",!0)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;this.parentNode&&!e.isTrigger&&v.event.simulate("submit",this.parentNode,e,!0)}},teardown:function(){if(v.nodeName(this,"form"))return!1;v.event.remove(this,"._submit")}});v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){v.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)});v.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1);v.event.simulate("change",this,e,!0)})}return!1}v.event.add(this,"beforeactivate._change",function(e){var t=e.target;if($.test(t.nodeName)&&!v._data(t,"_change_attached")){v.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate("change",this.parentNode,e,!0)});v._data(t,"_change_attached",!0)}})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){v.event.remove(this,"._change");return!$.test(this.nodeName)}});v.support.focusinBubbles||v.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}});v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){if(typeof n!="string"){r=r||n;n=t}for(u in e)this.on(u,n,r,e[u],s);return this}if(r==null&&i==null){i=n;r=n=t}else if(i==null)if(typeof n=="string"){i=r;r=t}else{i=r;r=n;n=t}if(i===!1)i=et;else if(!i)return this;if(s===1){o=i;i=function(e){v().off(e);return o.apply(this,arguments)};i.guid=o.guid||(o.guid=v.guid++)}return this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj){i=e.handleObj;v(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);return this}if(typeof e=="object"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function"){r=n;n=t}r===!1&&(r=et);return this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){v(this.context).on(e,this.selector,t,n);return this},die:function(e,t){v(this.context).off(e,this.selector||"**",t);return this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,"lastToggle"+e.guid)||0)%r;v._data(this,"lastToggle"+e.guid,i+1);n.preventDefault();return t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,n){if(n==null){n=e;e=null}return arguments.length>0?this.on(t,null,e,n):this.trigger(t)};Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks);G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)});(function(e,t){function nt(e,t,n,r){n=n||[];t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!="string")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f){n.push(s);return n}}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f){n.push(s);return n}}else{if(i[2]){S.apply(n,x.call(t.getElementsByTagName(e),0));return n}if((f=i[3])&&Z&&t.getElementsByClassName){S.apply(n,x.call(t.getElementsByClassName(f),0));return n}}return vt(e.replace(j,"$1"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function st(e){return N(function(t){t=+t;return N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e];if(l)return t?0:l.slice(0);u=e;a=[];f=i.preFilter;while(u){if(!n||(r=F.exec(u))){r&&(u=u.slice(r[0].length));a.push(s=[])}n=!1;if(r=I.exec(u)){s.push(n=new m(r.shift()));u=u.slice(n.length);n.type=r[0].replace(j," ")}for(o in i.filter)if((r=J[o].exec(u))&&(!f[o]||(r=f[o](r,g,!0)))){s.push(n=new m(r.shift()));u=u.slice(n.length);n.type=o;n.matches=r}if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir==="parentNode",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+" "+o+" ",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a=="string"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u)){t.sizset=!0;return t}t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i)){o.push(s);f&&t.push(u)}return o}function ct(e,t,n,r,i,s){r&&!r[d]&&(r=ct(r));i&&!i[d]&&(i=ct(i,s));return N(function(s,o,u,a){if(s&&i)return;var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||"*",u.nodeType?[u]:u,[],s),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){c=lt(g,p);r(c,[],u,a);f=c.length;while(f--)if(l=c[f])g[p[f]]=!(m[p[f]]=l)}if(s){f=e&&g.length;while(f--)if(l=g[f])s[h[f]]=!(o[h[f]]=l)}else{g=lt(g===o?g.splice(d,g.length):g);i?i(null,o,g,a):S.apply(o,g)}})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[" "],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join("").replace(j,"$1"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(""))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w="0",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG("*",h&&a.parentNode||a),k=b+=N==null?1:Math.E;if(T){c=a!==g&&a;n=o.el}for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}if(T){b=k;n=++o.el}}if(r){(p=!v&&p)&&y--;u&&x.push(p)}}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m);T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}if(T){b=k;c=N}return x};o.el=0;return r?N(o):o}function dt(e,t,n,r){var i=0,s=t.length;for(;i<s;i++)nt(e,t[i],n,r);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type==="ID"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,""),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,""),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1);e=r.length&&u.join("");if(!e){S.apply(n,x.call(r,0));return n}break}}}a(e,h)(r,t,s,n,z.test(e));return n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p="undefined",d=("sizcache"+Math.random()).replace(".",""),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){e[d]=t==null||t;return e},C=function(){var e={},t=[];return N(function(n,r){t.push(n)>i.cacheLength&&delete e[t.shift()];return e[n]=r},e)},k=C(),L=C(),A=C(),O="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",_=M.replace("w","w#"),D="([*^$|!~]?=)",P="\\["+O+"*("+M+")"+O+"*(?:"+D+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_+")|)|)"+O+"*\\]",H=":("+M+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+P+")|[^:]|\\\\.)*|.*))\\)|)",B=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",j=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),F=new RegExp("^"+O+"*,"+O+"*"),I=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),q=new RegExp(H),R=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,U=/^:not/,z=/[\x20\t\r\n\f]*[+~]/,W=/:not\($/,X=/h\d/i,V=/input|select|textarea|button/i,$=/\\(?!\\)/g,J={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),NAME:new RegExp("^\\[name=['\"]?("+M+")['\"]?\\]"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+P),PSEUDO:new RegExp("^"+H),POS:new RegExp(B,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+B,"i")},K=function(e){var t=g.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){e.appendChild(g.createComment(""));return!e.getElementsByTagName("*").length}),G=K(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute("href")==="#"}),Y=K(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),Z=K(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length)return!1;e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),et=K(function(e){e.id=d+0;e.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>";y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;r=!g.getElementById(d);y.removeChild(e);return t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)};nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0};s=nt.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n};o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1};u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1};nt.attr=function(e,t){var n,r=o(e);r||(t=t.toLowerCase());if(n=i.attrHandle[t])return n(e);if(r||Y)return e.getAttribute(t);n=e.getAttributeNode(t);return n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null};i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace($,"");e[3]=(e[4]||e[5]||"").replace($,"");e[2]==="~="&&(e[3]=" "+e[3]+" ");return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){e[2]||nt.error(e[0]);e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+(e[6]+e[7]||e[2]==="odd")}else e[2]&&nt.error(e[0]);return e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4]){if(q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)){t=t.slice(0,n);e[0]=e[0].slice(0,n)}e[2]=t}return e.slice(0,3)}},filter:{ID:r?function(e){e=e.replace($,"");return function(t){return t.getAttribute("id")===e}}:function(e){e=e.replace($,"");return function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){if(e==="*")return function(){return!0};e=e.replace($,"").toLowerCase();return function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(e){var t=k[d][e];t||(t=k(e,new RegExp("(^|"+O+")"+e+"("+O+"|$)")));return function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute("class")||"")}},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);if(s==null)return t==="!=";if(!t)return!0;s+="";return t==="="?s===n:t==="!="?s!==n:t==="^="?n&&s.indexOf(n)===0:t==="*="?n&&s.indexOf(n)>-1:t==="$="?n&&s.substr(s.length-n.length)===n:t==="~="?(" "+s+" ").indexOf(n)>-1:t==="|="?s===n||s.substr(0,n.length+1)===n+"-":!1}},CHILD:function(e,t,n,r){return e==="nth"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}i-=r;return i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error("unsupported pseudo: "+e);if(r[d])return r(t);if(r.length>1){n=[e,e,"",t];return i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--){i=T.call(e,s[o]);e[i]=!(n[i]=s[o])}}):function(e){return r(e,0,n)}}return r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,"$1"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){t[0]=e;r(t,null,s,n);return!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){e.parentNode&&e.parentNode.selectedIndex;return e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:rt("radio"),checkbox:rt("checkbox"),file:rt("file"),password:rt("password"),image:rt("image"),submit:it("submit"),reset:it("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(e,t,n){return[0]}),last:st(function(e,t,n){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t,n){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:st(function(e,t,n){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}};f=y.compareDocumentPosition?function(e,t){if(e===t){l=!0;return 0}return(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t){l=!0;return 0}if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a){i.unshift(a);a=a.parentNode}a=u;while(a){s.unshift(a);a=a.parentNode}n=i.length;r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)};[0,0].sort(f);h=!l;nt.uniqueSort=function(e){var t,n=1;l=h;e.sort(f);if(l)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1);return e};nt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e];if(!s){t||(t=ut(e));n=t.length;while(n--){s=ht(t[n]);s[d]?r.push(s):i.push(s)}s=A(e,pt(i,r))}return s};g.querySelectorAll&&function(){var e,t=vt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[":focus"],s=[":active",":focus"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML="<select><option selected=''></option></select>";e.querySelectorAll("[selected]").length||i.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)");e.querySelectorAll(":checked").length||i.push(":checked")});K(function(e){e.innerHTML="<p test=''></p>";e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+O+"*(?:\"\"|'')");e.innerHTML="<input type='hidden'/>";e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")});i=new RegExp(i.join("|"));vt=function(e,r,s,o,u){if(!o&&!u&&(!i||!i.test(e))){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){a=ut(e);(l=r.getAttribute("id"))?c=l.replace(n,"\\$&"):r.setAttribute("id",c);c="[id='"+c+"'] ";f=a.length;while(f--)a[f]=c+a[f].join("");h=z.test(e)&&r.parentNode||r;p=a.join(",")}if(p)try{S.apply(s,x.call(h.querySelectorAll(p),0));return s}catch(v){}finally{l||r.removeAttribute("id")}}return t(e,r,s,o,u)};if(u){K(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle");s.push("!=",H)}catch(n){}});s=new RegExp(s.join("|"));nt.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!o(t)&&!s.test(n)&&(!i||!i.test(n)))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0}}}();i.pseudos.nth=i.pseudos.eq;i.filters=mt.prototype=i.pseudos;i.setFilters=new mt;nt.attr=v.attr;v.find=nt;v.expr=nt.selectors;v.expr[":"]=v.expr.pseudos;v.unique=nt.uniqueSort;v.text=nt.getText;v.isXMLDoc=nt.isXML;v.contains=nt.contains})(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\[\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!="string")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack("","find",e);for(t=0,n=this.length;t<n;t++){r=o.length;v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ft(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!="string"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}s=s.length>1?v.unique(s):s;return this.pushStack(s,"closest",e)},index:function(e){return e?typeof e=="string"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});v.fn.andSelf=v.fn.addBack;v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,n){return v.dir(e,"parentNode",n)},next:function(e){return at(e,"nextSibling")},prev:function(e){return at(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,n){return v.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return v.dir(e,"previousSibling",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);nt.test(e)||(r=n);r&&typeof r=="string"&&(i=v.filter(r,i));i=this.length>1&&!ot[e]?v.unique(i):i;this.length>1&&rt.test(e)&&(i=i.reverse());return this.pushStack(i,e,l.call(arguments).join(","))}});v.extend({filter:function(e,t,n){n&&(e=":not("+e+")");return t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r))){s.nodeType===1&&i.push(s);s=s[n]}return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ht=/ jQuery\d+="(?:null|\d+)"/g,pt=/^\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vt=/<([\w:]+)/,mt=/<tbody/i,gt=/<|&#?\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp("<(?:"+ct+")[\\s/>]","i"),Et=/^(?:checkbox|radio)$/,St=/checked\s*(?:[^=]|=\s*.checked.)/i,xt=/\/(java|ecma)script/i,Tt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Nt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ct=lt(i),kt=Ct.appendChild(i.createElement("div"));Nt.optgroup=Nt.option;Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead;Nt.th=Nt.td;v.support.htmlSerialize||(Nt._default=[1,"X<div>","</div>"]);v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]);t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length){if(!t&&n.nodeType===1){v.cleanData(n.getElementsByTagName("*"));v.cleanData([n])}n.parentNode&&n.parentNode.removeChild(n)}return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName("*"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){e=e==null?!1:e;t=t==null?e:t;return this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,""):t;if(typeof e=="string"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(dt,"<$1></$2>");try{for(;r<i;r++){n=this[r]||{};if(n.nodeType===1){v.cleanData(n.getElementsByTagName("*"));n.innerHTML=e}}n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){if(!ut(this[0])){if(v.isFunction(e))return this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))});typeof e!="string"&&(e=v(e).detach());return this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove();t?v(t).before(e):v(n).append(e)})}return this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f=="string"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t);s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l);o=i.fragment;s=o.firstChild;o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,"tr");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],"table")?Lt(this[a],"tbody"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null;l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Tt,""));t.parentNode&&t.parentNode.removeChild(t)})}return this}});v.buildFragment=function(e,n,r){var s,o,u,a=e[0];n=n||i;n=!n.nodeType&&n[0]||n;n=n.ownerDocument||n;if(e.length===1&&typeof a=="string"&&a.length<512&&n===i&&a.charAt(0)==="<"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))){o=!0;s=v.fragments[a];u=s!==t}if(!s){s=n.createDocumentFragment();v.clean(e,n,s,r);o&&(v.fragments[a]=u&&s)}return{fragment:s,cacheable:o}};v.fragments={};v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1){o[t](this[0]);return this}for(;i<u;i++){r=(i>0?this.clone(!0):this).get();v(o[i])[t](r);s=s.concat(r)}return this.pushStack(s,e,o.selector)}});v.extend({clone:function(e,t,n){var r,i,s,o;if(v.support.html5Clone||v.isXMLDoc(e)||!wt.test("<"+e.nodeName+">"))o=e.cloneNode(!0);else{kt.innerHTML=e.outerHTML;kt.removeChild(o=kt.firstChild)}if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o);r=Mt(e);i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e);i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}r=i=null;return o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment=="undefined")t=i;for(s=0;(u=e[s])!=null;s++){typeof u=="number"&&(u+="");if(!u)continue;if(typeof u=="string")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t);c=t.createElement("div");y.appendChild(c);u=u.replace(dt,"<$1></$2>");a=(vt.exec(u)||["",""])[1].toLowerCase();f=Nt[a]||Nt._default;l=f[0];c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u);p=a==="table"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]==="<table>"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild);u=c.childNodes;c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,"input")?_t(u):typeof u.getElementsByTagName!="undefined"&&v.grep(u.getElementsByTagName("input"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,"script")||!m(u)){n.appendChild(u);if(typeof u.getElementsByTagName!="undefined"){g=v.grep(v.merge([],u.getElementsByTagName("script")),m);b.splice.apply(b,[s+1,0].concat(g));s+=g.length}}}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u];n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);if(a[r]){delete a[r];f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null;v.deletedIds.push(r)}}}}});(function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}};e=v.uaMatch(o.userAgent);t={};if(e.browser){t[e.browser]=!0;t.version=e.version}t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0);v.browser=t;v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this);e.superclass=this;e.fn=e.prototype=this();e.fn.constructor=e;e.sub=this.sub;e.fn.init=function(r,i){i&&i instanceof v&&!(i instanceof e)&&(i=e(i));return v.fn.init.call(this,r,i,t)};e.fn.init.prototype=e.fn;var t=e(i);return e}})();var Dt,Pt,Ht,Bt=/alpha\([^)]*\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp("^("+m+")(.*)$","i"),Ut=new RegExp("^("+m+")(?!px)[a-z%]+$","i"),zt=new RegExp("^([-+])=("+m+")","i"),Wt={},Xt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:0,fontWeight:400},$t=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e=="boolean";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}});v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,"opacity");return n===""?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a));u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&"get"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r;if(o==="string"&&(s=zt.exec(r))){r=(s[1]+1)*s[2]+parseFloat(v.css(e,n));o="number"}if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!v.cssNumber[a]&&(r+="px");if(!u||!("set"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a));u=v.cssHooks[n]||v.cssHooks[a];u&&"get"in u&&(s=u.get(e,!0,i));s===t&&(s=Dt(e,n));s==="normal"&&n in Vt&&(s=Vt[n]);if(r||i!==t){o=parseFloat(s);return r||v.isNumeric(o)?o||0:s}return s},swap:function(e,t,n){var r,i,s={};for(i in t){s[i]=e.style[i];e.style[i]=t[i]}r=n.call(e);for(i in t)e.style[i]=s[i];return r}});e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;if(u){r=u[n];r===""&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n));if(Ut.test(r)&&qt.test(n)){i=a.width;s=a.minWidth;o=a.maxWidth;a.minWidth=a.maxWidth=a.width=r;r=u.width;a.width=i;a.minWidth=s;a.maxWidth=o}}return r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;i==null&&s&&s[t]&&(i=s[t]);if(Ut.test(i)&&!Ft.test(t)){n=s.left;r=e.runtimeStyle&&e.runtimeStyle.left;r&&(e.runtimeStyle.left=e.currentStyle.left);s.left=t==="fontSize"?"1em":i;i=s.pixelLeft+"px";s.left=n;r&&(e.runtimeStyle.left=r)}return i===""?"auto":i});v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,"display"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,"boxSizing")==="border-box"):0)}}});v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,""))===""&&n.removeAttribute){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+" "+i}});v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return Dt(e,"marginRight")})}});!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+"px":r}}}})});if(v.expr&&v.expr.filters){v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,"display"))==="none"};v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}}v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}};qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\[\]$/,on=/\r?\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,"\r\n")}}):{name:t.name,value:n.replace(on,"\r\n")}}).get()}});v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?"":t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join("&").replace(rn,"+")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,dn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\/\//,gn=/\?/,yn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=["*/"]+["*"];try{cn=s.href}catch(Nn){cn=i.createElement("a");cn.href="";cn=cn.href}ln=wn.exec(cn.toLowerCase())||[];v.fn.load=function(e,n,r){if(typeof e!="string"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(" ");if(a>=0){i=e.slice(a,e.length);e=e.slice(0,a)}if(v.isFunction(n)){r=n;n=t}else n&&typeof n=="object"&&(s="POST");v.ajax({url:e,type:s,dataType:"html",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments;u.html(i?v("<div>").append(e.replace(yn,"")).find(i):e)});return this};v.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){v.fn[t]=function(e){return this.on(t,e)}});v.each(["get","post"],function(e,n){v[n]=function(e,r,i,s){if(v.isFunction(r)){s=s||i;i=r;r=t}return v.ajax({type:n,url:e,data:r,success:i,dataType:s})}});v.extend({getScript:function(e,n){return v.get(e,t,n,"script")},getJSON:function(e,t,n){return v.get(e,t,n,"json")},ajaxSetup:function(e,t){if(t)Ln(e,v.ajaxSettings);else{t=e;e=v.ajaxSettings}Ln(e,t);return e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":v.parseJSON,"text xml":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2;u&&clearTimeout(u);o=t;i=a||"";x.readyState=e>0?4:0;s&&(w=An(c,x,s));if(e>=200&&e<300||e===304){if(c.ifModified){S=x.getResponseHeader("Last-Modified");S&&(v.lastModified[r]=S);S=x.getResponseHeader("Etag");S&&(v.etag[r]=S)}if(e===304){T="notmodified";l=!0}else{l=On(c,w);T=l.state;y=l.data;b=l.error;l=!b}}else{b=T;if(!T||e){T="error";e<0&&(e=0)}}x.status=e;x.statusText=(n||T)+"";l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]);x.statusCode(g);g=t;f&&p.trigger("ajax"+(l?"Success":"Error"),[x,c,l?y:b]);m.fireWith(h,[x,T]);if(f){p.trigger("ajaxComplete",[x,c]);--v.active||v.event.trigger("ajaxStop")}}if(typeof e=="object"){n=e;e=t}n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks("once memory"),g=c.statusCode||{},b={},w={},E=0,S="canceled",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e;b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){E||(c.mimeType=e);return this},abort:function(e){e=e||S;o&&o.abort(e);T(0,e);return this}};d.promise(x);x.success=x.done;x.error=x.fail;x.complete=m.add;x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else{t=e[x.status];x.always(t)}}return this};c.url=((e||c.url)+"").replace(hn,"").replace(mn,ln[1]+"//");c.dataTypes=v.trim(c.dataType||"*").toLowerCase().split(y);if(c.crossDomain==null){a=wn.exec(c.url.toLowerCase())||!1;c.crossDomain=a&&a.join(":")+(a[3]?"":a[1]==="http:"?80:443)!==ln.join(":")+(ln[3]?"":ln[1]==="http:"?80:443)}c.data&&c.processData&&typeof c.data!="string"&&(c.data=v.param(c.data,c.traditional));kn(Sn,c,n,x);if(E===2)return x;f=c.global;c.type=c.type.toUpperCase();c.hasContent=!vn.test(c.type);f&&v.active++===0&&v.event.trigger("ajaxStart");if(!c.hasContent){if(c.data){c.url+=(gn.test(c.url)?"&":"?")+c.data;delete c.data}r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,"$1_="+N);c.url=C+(C===c.url?(gn.test(c.url)?"&":"?")+"_="+N:"")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",c.contentType);if(c.ifModified){r=r||c.url;v.lastModified[r]&&x.setRequestHeader("If-Modified-Since",v.lastModified[r]);v.etag[r]&&x.setRequestHeader("If-None-Match",v.etag[r])}x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!=="*"?", "+Tn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S="abort";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,"No Transport");else{x.readyState=1;f&&p.trigger("ajaxSend",[x,c]);c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort("timeout")},c.timeout));try{E=1;o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\?/,Dn=/(=)\?(?=&|$)|\?\?/,Pn=v.now();v.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mn.pop()||v.expando+"_"+Pn++;this[e]=!0;return e}});v.ajaxPrefilter("json jsonp",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a=="string"&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Dn.test(a);if(n.dataTypes[0]==="jsonp"||c||h){s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback;o=e[s];c?n.url=f.replace(Dn,"$1"+s):h?n.data=a.replace(Dn,"$1"+s):l&&(n.url+=(_n.test(f)?"&":"?")+n.jsonp+"="+s);n.converters["script json"]=function(){u||v.error(s+" was not called");return u[0]};n.dataTypes[0]="json";e[s]=function(){u=arguments};i.always(function(){e[s]=o;if(n[s]){n.jsonpCallback=r.jsonpCallback;Mn.push(s)}u&&v.isFunction(o)&&o(u[0]);u=o=t});return"script"}});v.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){v.globalEval(e);return e}}});v.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1);if(e.crossDomain){e.type="GET";e.global=!1}});v.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName("head")[0]||i.documentElement;return{send:function(s,o){n=i.createElement("script");n.async="async";e.scriptCharset&&(n.charset=e.scriptCharset);n.src=e.url;n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState)){n.onload=n.onreadystatechange=null;r&&n.parentNode&&r.removeChild(n);n=t;i||o(200,"success")}};r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn;(function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})})(v.ajaxSettings.xhr());v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType);!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null);r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t;if(o){a.onreadystatechange=v.noop;Bn&&delete Hn[o]}if(i)a.readyState!==4&&a.abort();else{u=a.status;l=a.getAllResponseHeaders();c={};h=a.responseXML;h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(e){}try{f=a.statusText}catch(p){f=""}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)};if(!n.async)r();else if(a.readyState===4)setTimeout(r,0);else{o=++jn;if(Bn){if(!Hn){Hn={};v(e).unload(Bn)}Hn[o]=r}a.onreadystatechange=r}},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp("^(?:([-+])=|)("+m+")([a-z%]*)$","i"),Wn=/queueHooks$/,Xn=[Gn],Vn={"*":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2];r=s[3]||(v.cssNumber[e]?"":"px");if(r!=="px"&&u){u=v.css(i.elem,e,!0)||n||1;do{a=a||".5";u/=a;v.style(i.elem,e,u+r)}while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r;i.start=u;i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){if(v.isFunction(e)){t=e;e=["*"]}else e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++){n=e[r];Vn[n]=Vn[n]||[];Vn[n].unshift(t)}},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}});v.Tween=Yn;Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e;this.prop=n;this.easing=i||"swing";this.options=t;this.start=this.now=this.cur();this.end=r;this.unit=s||(v.cssNumber[n]?"":"px")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e;this.now=(this.end-this.start)*t+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);n&&n.set?n.set(this):Yn.propHooks._default.set(this);return this}};Yn.prototype.init.prototype=Yn.prototype;Yn.propHooks={_default:{get:function(e){var t;if(e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null){t=v.css(e.elem,e.prop,!1,"");return!t||t==="auto"?0:t}return e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}};Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}};v.each(["toggle","show","hide"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r=="boolean"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}});v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop;t(r)};if(typeof e!="string"){r=n;n=e;e=t}n&&e!==!1&&this.queue(e||"fx",[]);return this.each(function(){var t=!0,n=e!=null&&e+"queueHooks",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)if(s[n].elem===this&&(e==null||s[n].queue===e)){s[n].anim.stop(r);t=!1;s.splice(n,1)}(t||!r)&&v.dequeue(this,e)})}});v.each({slideDown:Zn("show"),slideUp:Zn("hide"),slideToggle:Zn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}});v.speed=function(e,t,n){var r=e&&typeof e=="object"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";r.old=r.complete;r.complete=function(){v.isFunction(r.old)&&r.old.call(this);r.queue&&v.dequeue(this,r.queue)};return r};v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}};v.timers=[];v.fx=Yn.prototype.init;v.fx.tick=function(){var e,t=v.timers,n=0;for(;n<t.length;n++){e=t[n];!e()&&t[n]===e&&t.splice(n--,1)}t.length||v.fx.stop()};v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))};v.fx.interval=13;v.fx.stop=function(){clearInterval(Rn);Rn=null};v.fx.speeds={slow:600,fast:200,_default:400};v.fx.step={};v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;if((r=c.body)===l)return v.offset.bodyOffset(l);n=c.documentElement;if(!v.contains(n,l))return f;typeof l.getBoundingClientRect!="undefined"&&(f=l.getBoundingClientRect());i=tr(c);s=n.clientTop||r.clientTop||0;o=n.clientLeft||r.clientLeft||0;u=i.pageYOffset||n.scrollTop;a=i.pageXOffset||n.scrollLeft;return{top:f.top+u-s,left:f.left+a-o}};v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;if(v.support.doesNotIncludeMarginInBodyOffset){t+=parseFloat(v.css(e,"marginTop"))||0;n+=parseFloat(v.css(e,"marginLeft"))||0}return{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,"position");r==="static"&&(e.style.position="relative");var i=v(e),s=i.offset(),o=v.css(e,"top"),u=v.css(e,"left"),a=(r==="absolute"||r==="fixed")&&v.inArray("auto",[o,u])>-1,f={},l={},c,h;if(a){l=i.position();c=l.top;h=l.left}else{c=parseFloat(o)||0;h=parseFloat(u)||0}v.isFunction(t)&&(t=t.call(e,n,s));t.top!=null&&(f.top=t.top-s.top+c);t.left!=null&&(f.left=t.left-s.left+h);"using"in t?t.using.call(e,f):i.css(f)}};v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();n.top-=parseFloat(v.css(e,"marginTop"))||0;n.left-=parseFloat(v.css(e,"marginLeft"))||0;r.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0;r.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0;return{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,"position")==="static")e=e.offsetParent;return e||i.body})}});v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}});v.each({Height:"height",Width:"width"},function(e,n){v.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!="boolean"),u=r||(i===!0||s===!0?"margin":"border");return v.access(this,function(n,r,i){var s;if(v.isWindow(n))return n.document.documentElement["client"+e];if(n.nodeType===9){s=n.documentElement;return Math.max(n.body["scroll"+e],s["scroll"+e],n.body["offset"+e],s["offset"+e],s["client"+e])}return i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})});e.jQuery=e.$=v;typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return v})})(window);(function(e,t){"$:nomunge";var n=e.jQuery||e.Cowboy||(e.Cowboy={}),r;n.getObject=r=function(n,r,i){typeof n=="string"&&(n=n.split("."));if(typeof r!="boolean"){i=r;r=t}i=i||e;var s;while(i&&n.length){s=n.shift();i[s]===t&&r&&(i[s]={});i=i[s]}return i};n.setObject=function(e,n,i){var s=e.split("."),o=s.pop(),u=r(s,!0,i);return u&&typeof u=="object"&&o?u[o]=n:t};n.exists=function(e,n){return r(e,n)!==t}})(window);jQuery.cookie=function(e,t,n){if(arguments.length>1&&(t===null||typeof t!="object")){n=jQuery.extend({},n);t===null&&(n.expires=-1);if(typeof n.expires=="number"){var r=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+r)}return document.cookie=[encodeURIComponent(e),"=",n.raw?String(t):encodeURIComponent(String(t)),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var s,o=n.raw?function(e){return e}:decodeURIComponent;return(s=(new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)")).exec(document.cookie))?o(s[1]):null};(function(e){e.fn.hoverIntent=function(t,n){var r={sensitivity:7,interval:100,timeout:0};r=e.extend(r,n?{over:t,out:n}:t);var i,s,o,u,a=function(e){i=e.pageX;s=e.pageY},f=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(o-i)+Math.abs(u-s)<r.sensitivity){e(n).unbind("mousemove",a);n.hoverIntent_s=1;return r.over.apply(n,[t])}o=i;u=s;n.hoverIntent_t=setTimeout(function(){f(t,n)},r.interval)},l=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return r.out.apply(t,[e])},c=function(t){var n=jQuery.extend({},t),i=this;i.hoverIntent_t&&(i.hoverIntent_t=clearTimeout(i.hoverIntent_t));if(t.type=="mouseenter"){o=n.pageX;u=n.pageY;e(i).bind("mousemove",a);i.hoverIntent_s!=1&&(i.hoverIntent_t=setTimeout(function(){f(n,i)},r.interval))}else{e(i).unbind("mousemove",a);i.hoverIntent_s==1&&(i.hoverIntent_t=setTimeout(function(){l(n,i)},r.timeout))}};return this.live("hover",c)}})(jQuery);(function(e,t){"$:nomunge";var n=e.jQuery||e.Cowboy||(e.Cowboy={}),r;n.throttle=r=function(e,r,i,s){function a(){function l(){u=+(new Date);i.apply(n,f)}function c(){o=t}var n=this,a=+(new Date)-u,f=arguments;s&&!o&&l();o&&clearTimeout(o);s===t&&a>e?l():r!==!0&&(o=setTimeout(s?c:l,s===t?e-a:e))}var o,u=0;if(typeof r!="boolean"){s=i;i=r;r=t}n.guid&&(a.guid=i.guid=i.guid||n.guid++);return a};n.debounce=function(e,n,i){return i===t?r(e,n,!1):r(e,i,n!==!1)}})(window);(function(e,t,n){function f(e){var t={},r=/^jQuery\d+$/;n.each(e.attributes,function(e,n){n.specified&&!r.test(n.name)&&(t[n.name]=n.value)});return t}function l(e,r){var i=this,s=n(i);if(i.value==s.attr("placeholder")&&s.hasClass("placeholder"))if(s.data("placeholder-password")){s=s.hide().next().show().attr("id",s.removeAttr("id").data("placeholder-id"));if(e===!0)return s[0].value=r;s.focus()}else{i.value="";s.removeClass("placeholder");i==t.activeElement&&i.select()}}function c(){var e,t=this,r=n(t),i=r,s=this.id;if(t.value==""){if(t.type=="password"){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(o){e=n("<input>").attr(n.extend(f(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":s}).bind("focus.placeholder",l);r.data({"placeholder-textinput":e,"placeholder-id":s}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder");r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}var r="placeholder"in t.createElement("input"),i="placeholder"in t.createElement("textarea"),s=n.fn,o=n.valHooks,u,a;if(r&&i){a=s.placeholder=function(){return this};a.input=a.textarea=!0}else{a=s.placeholder=function(){var e=this;e.filter((r?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":l,"blur.placeholder":c}).data("placeholder-enabled",!0).trigger("blur.placeholder");return e};a.input=r;a.textarea=i;u={get:function(e){var t=n(e);return t.data("placeholder-enabled")&&t.hasClass("placeholder")?"":e.value},set:function(e,r){var i=n(e);if(!i.data("placeholder-enabled"))return e.value=r;if(r==""){e.value=r;e!=t.activeElement&&c.call(e)}else i.hasClass("placeholder")?l.call(e,!0,r)||(e.value=r):e.value=r;return i}};r||(o.input=u);i||(o.textarea=u);n(function(){n(t).delegate("form","submit.placeholder",function(){var e=n(".placeholder",this).each(l);setTimeout(function(){e.each(c)},10)})});n(e).bind("beforeunload.placeholder",function(){n(".placeholder").each(function(){this.value=""})})}})(this,document,jQuery);$(window).load(function(){$("input, textarea").placeholder()});(function(e){"$:nomunge";var t,n,r=1,i,s=this,o=!1,u="postMessage",a="addEventListener",f,l=s[u]&&!e.browser.opera;e[u]=function(t,n,i){if(!n)return;t=typeof t=="string"?t:e.param(t);i=i||parent;l?i[u](t,n.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):n&&(i.location=n.replace(/#.*$/,"")+"#"+ +(new Date)+r++ +"&"+t)};e.receiveMessage=f=function(r,u,c){if(l){if(r){i&&f();i=function(t){if(typeof u=="string"&&t.origin!==u||e.isFunction(u)&&u(t.origin)===o)return o;r(t)}}s[a]?s[r?a:"removeEventListener"]("message",i,o):s[r?"attachEvent":"detachEvent"]("onmessage",i)}else{t&&clearInterval(t);t=null;if(r){c=typeof u=="number"?u:typeof c=="number"?c:100;t=setInterval(function(){var e=document.location.hash,t=/^#?\d+&/;if(e!==n&&t.test(e)){n=e;r({data:e.replace(t,"")})}},c)}}}})(jQuery);window.Modernizr=function(e,t,n){function A(e){f.cssText=e}function O(e,t){return A(p.join(e+";")+(t||""))}function M(e,t){return typeof e===t}function _(e,t){return!!~(""+e).indexOf(t)}function D(e,t){for(var r in e){var i=e[r];if(!_(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function P(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:M(s,"function")?s.bind(r||t):s}return!1}function H(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+v.join(r+" ")+r).split(" ");if(M(t,"string")||M(t,"undefined"))return D(i,t);i=(e+" "+m.join(r+" ")+r).split(" ");return P(i,t,n)}function B(){i.input=function(n){for(var r=0,i=n.length;r<i;r++)w[n[r]]=n[r]in l;w.list&&(w.list=!!t.createElement("datalist")&&!!e.HTMLDataListElement);return w}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));i.inputtypes=function(e){for(var r=0,i,s,u,a=e.length;r<a;r++){l.setAttribute("type",s=e[r]);i=l.type!=="text";if(i){l.value=c;l.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(s)&&l.style.WebkitAppearance!==n){o.appendChild(l);u=t.defaultView;i=u.getComputedStyle&&u.getComputedStyle(l,null).WebkitAppearance!=="textfield"&&l.offsetHeight!==0;o.removeChild(l)}else/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?i=l.checkValidity&&l.checkValidity()===!1:i=l.value!=c)}b[e[r]]=!!i}return b}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var r="2.6.1",i={},s=!0,o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l=t.createElement("input"),c=":)",h={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),d="Webkit Moz O ms",v=d.split(" "),m=d.toLowerCase().split(" "),g={svg:"http://www.w3.org/2000/svg"},y={},b={},w={},E=[],S=E.slice,x,T=function(e,n,r,i){var s,a,f,l=t.createElement("div"),c=t.body,h=c?c:t.createElement("body");if(parseInt(r,10))while(r--){f=t.createElement("div");f.id=i?i[r]:u+(r+1);l.appendChild(f)}s=["&#173;",'<style id="s',u,'">',e,"</style>"].join("");l.id=u;(c?l:h).innerHTML+=s;h.appendChild(l);if(!c){h.style.background="";o.appendChild(h)}a=n(l,e);c?l.parentNode.removeChild(l):h.parentNode.removeChild(h);return!!a},N=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var r;T("@media "+t+" { #"+u+" { position: absolute; } }",function(t){r=(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle)["position"]=="absolute"});return r},C=function(){function r(r,i){i=i||t.createElement(e[r]||"div");r="on"+r;var s=r in i;if(!s){i.setAttribute||(i=t.createElement("div"));if(i.setAttribute&&i.removeAttribute){i.setAttribute(r,"");s=M(i[r],"function");M(i[r],"undefined")||(i[r]=n);i.removeAttribute(r)}}i=null;return s}var e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return r}(),k={}.hasOwnProperty,L;!M(k,"undefined")&&!M(k.call,"undefined")?L=function(e,t){return k.call(e,t)}:L=function(e,t){return t in e&&M(e.constructor.prototype[t],"undefined")};Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(S.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(S.call(arguments)))};return i});y.flexbox=function(){return H("flexWrap")};y.flexboxlegacy=function(){return H("boxDirection")};y.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")};y.canvastext=function(){return!!i.canvas&&!!M(t.createElement("canvas").getContext("2d").fillText,"function")};y.webgl=function(){return!!e.WebGLRenderingContext};y.touch=function(){var n;"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:T(["@media (",p.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9});return n};y.geolocation=function(){return"geolocation"in navigator};y.postmessage=function(){return!!e.postMessage};y.websqldatabase=function(){return!!e.openDatabase};y.indexedDB=function(){return!!H("indexedDB",e)};y.hashchange=function(){return C("hashchange",e)&&(t.documentMode===n||t.documentMode>7)};y.history=function(){return!!e.history&&!!history.pushState};y.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e};y.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e};y.rgba=function(){A("background-color:rgba(150,255,150,.5)");return _(f.backgroundColor,"rgba")};y.hsla=function(){A("background-color:hsla(120,40%,100%,.5)");return _(f.backgroundColor,"rgba")||_(f.backgroundColor,"hsla")};y.multiplebgs=function(){A("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(f.background)};y.backgroundsize=function(){return H("backgroundSize")};y.borderimage=function(){return H("borderImage")};y.borderradius=function(){return H("borderRadius")};y.boxshadow=function(){return H("boxShadow")};y.textshadow=function(){return t.createElement("div").style.textShadow===""};y.opacity=function(){O("opacity:.55");return/^0.55$/.test(f.opacity)};y.cssanimations=function(){return H("animationName")};y.csscolumns=function(){return H("columnCount")};y.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";A((e+"-webkit- ".split(" ").join(t+e)+p.join(n+e)).slice(0,-e.length));return _(f.backgroundImage,"gradient")};y.cssreflections=function(){return H("boxReflect")};y.csstransforms=function(){return!!H("transform")};y.csstransforms3d=function(){var e=!!H("perspective");e&&"webkitPerspective"in o.style&&T("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3});return e};y.csstransitions=function(){return H("transition")};y.fontface=function(){var e;T('@font-face {font-family:"font";src:url("https://")}',function(n,r){var i=t.getElementById("smodernizr"),s=i.sheet||i.styleSheet,o=s?s.cssRules&&s.cssRules[0]?s.cssRules[0].cssText:s.cssText||"":"";e=/src/i.test(o)&&o.indexOf(r.split(" ")[0])===0});return e};y.generatedcontent=function(){var e;T(['#modernizr:after{content:"',c,'";visibility:hidden}'].join(""),function(t){e=t.offsetHeight>=1});return e};y.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType){n=new Boolean(n);n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,"");n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,"");n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(r){}return n};y.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType){n=new Boolean(n);n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"");n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,"");n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"");n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(r){}return n};y.localstorage=function(){try{localStorage.setItem(u,u);localStorage.removeItem(u);return!0}catch(e){return!1}};y.sessionstorage=function(){try{sessionStorage.setItem(u,u);sessionStorage.removeItem(u);return!0}catch(e){return!1}};y.webworkers=function(){return!!e.Worker};y.applicationcache=function(){return!!e.applicationCache};y.svg=function(){return!!t.createElementNS&&!!t.createElementNS(g.svg,"svg").createSVGRect};y.inlinesvg=function(){var e=t.createElement("div");e.innerHTML="<svg/>";return(e.firstChild&&e.firstChild.namespaceURI)==g.svg};y.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(h.call(t.createElementNS(g.svg,"animate")))};y.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(h.call(t.createElementNS(g.svg,"clipPath")))};for(var j in y)if(L(y,j)){x=j.toLowerCase();i[x]=y[j]();E.push((i[x]?"":"no-")+x)}i.input||B();i.addTest=function(e,t){if(typeof e=="object")for(var r in e)L(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t;s&&(o.className+=" "+(t?"":"no-")+e);i[e]=t}return i};A("");a=l=null;(function(e,t){function l(e,t){var n=e.createElement("p"),r=e.getElementsByTagName("head")[0]||e.documentElement;n.innerHTML="x<style>"+t+"</style>";return r.insertBefore(n.lastChild,r.firstChild)}function c(){var e=g.elements;return typeof e=="string"?e.split(" "):e}function h(e){var t=a[e[o]];if(!t){t={};u++;e[o]=u;a[u]=t}return t}function p(e,n,s){n||(n=t);if(f)return n.createElement(e);s||(s=h(n));var o;s.cache[e]?o=s.cache[e].cloneNode():i.test(e)?o=(s.cache[e]=s.createElem(e)).cloneNode():o=s.createElem(e);return o.canHaveChildren&&!r.test(e)?s.frag.appendChild(o):o}function d(e,n){e||(e=t);if(f)return e.createDocumentFragment();n=n||h(e);var r=n.frag.cloneNode(),i=0,s=c(),o=s.length;for(;i<o;i++)r.createElement(s[i]);return r}function v(e,t){if(!t.cache){t.cache={};t.createElem=e.createElement;t.createFrag=e.createDocumentFragment;t.frag=t.createFrag()}e.createElement=function(n){return g.shivMethods?p(n,e,t):t.createElem(n)};e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/\w+/g,function(e){t.createElem(e);t.frag.createElement(e);return'c("'+e+'")'})+");return n}")(g,t.frag)}function m(e){e||(e=t);var n=h(e);g.shivCSS&&!s&&!n.hasCSS&&(n.hasCSS=!!l(e,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}"));f||v(e,n);return e}var n=e.html5||{},r=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,i=/^<|^(?:a|b|button|code|div|fieldset|form|h1|h2|h3|h4|h5|h6|i|iframe|img|input|label|li|link|ol|option|p|param|q|script|select|span|strong|style|table|tbody|td|textarea|tfoot|th|thead|tr|ul)$/i,s,o="_html5shiv",u=0,a={},f;(function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>";s="hidden"in e;f=e.childNodes.length==1||function(){t.createElement("a");var e=t.createDocumentFragment();return typeof e.cloneNode=="undefined"||typeof e.createDocumentFragment=="undefined"||typeof e.createElement=="undefined"}()}catch(n){s=!0;f=!0}})();var g={elements:n.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:n.shivCSS!==!1,supportsUnknownElements:f,shivMethods:n.shivMethods!==!1,type:"default",shivDocument:m,createElement:p,createDocumentFragment:d};e.html5=g;m(t)})(this,t);i._version=r;i._prefixes=p;i._domPrefixes=m;i._cssomPrefixes=v;i.mq=N;i.hasEvent=C;i.testProp=function(e){return D([e])};i.testAllProps=H;i.testStyles=T;i.prefixed=function(e,t,n){return t?H(e,t,n):H(e,"pfx")};o.className=o.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(s?" js "+E.join(" "):"");return i}(this,this.document);window.JSON||(window.JSON={});(function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e));typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent;u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]";gap=o;return i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1){r=rep[n];if(typeof r=="string"){i=str(r,a);i&&u.push(quote(r)+(gap?": ":":")+i)}}}else for(r in a)if(Object.hasOwnProperty.call(a,r)){i=str(r,a);i&&u.push(quote(r)+(gap?": ":":")+i)}i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}";gap=o;return i}}if(typeof Date.prototype.toJSON!="function"){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var JSON=window.JSON,cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof JSON.stringify!="function"&&(JSON.stringify=function(e,t,n){var r;gap="";indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")});typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)if(Object.hasOwnProperty.call(i,n)){r=walk(i,n);r!==undefined?i[n]=r:delete i[n]}return reviver.call(e,t,i)}var j;text=String(text);cx.lastIndex=0;cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver=="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")})})();(function(){var e=typeof window!="undefined"?window:exports,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=function(){try{document.createElement("$")}catch(e){return e}}();e.btoa||(e.btoa=function(e){for(var r,i,s=0,o=t,u="";e.charAt(s|0)||(o="=",s%1);u+=o.charAt(63&r>>8-s%1*8)){i=e.charCodeAt(s+=.75);if(i>255)throw n;r=r<<8|i}return u});e.atob||(e.atob=function(e){e=e.replace(/=+$/,"");if(e.length%4==1)throw n;for(var r=0,i,s,o=0,u="";s=e.charAt(o++);~s&&(i=r%4?i*64+s:s,r++%4)?u+=String.fromCharCode(255&i>>(-2*r&6)):0)s=t.indexOf(s);return u})})();$.getObject("Pb",!0).Object=Object.create===undefined?function(){function e(){}return function(t){e.prototype=t;return new e}}():function(e){return Object.create(e)};$.getObject("Pb",!0).subclass=function(e,t,n,r){var i=t.prototype,s=Pb.Object(i);e.prototype=s;s.constructor=e;e.superclass=i;t!=Object&&i.constructor==Object.prototype.constructor&&(i.constructor=t);n&&$.extend(s,n);r&&$.extend(e,r);return e};$.getObject("Pb",!0).DataObject=function(){function e(){this.data={}}var t={data:null,init:function(e){if(e){var t;for(t in e)e.hasOwnProperty(t)&&this.add(t,e[t])}},add:function(e,t){this.data[e]=t},remove:function(e){delete this.data[e]},get:function(e){return e in this.data?this.data[e]:null},has:function(e){return e in this.data},addFromChildWindow:function(e,t){var n,r=$.browser;$.isPlainObject(t)&&r.msie&&parseInt(r.version,10)>=9?n=JSON.parse(JSON.stringify(t)):n=t;this.data[e]=n}};e.prototype=t;return e}();$.getObject("Pb",!0).Data=new Pb.DataObject;$.getObject("Pb",!0).DataCookie=function(){return{init:function(){},set:function(e,t){Pb.Utilities.cookie(e,JSON.stringify(t))},remove:function(e){Pb.Utilities.cookie(e,null)},get:function(e){var t=Pb.Utilities.cookie(e);return t?JSON.parse(t):null},has:function(e){var t=Pb.Utilities.cookie(e);return e in data}}}();$.getObject("Pb",!0).Ajax=function(){function e(e){this.init(e)}function t(t){var n=new e(t);return n.execute()}e.prototype={messageHandler:null,showProgressModal:!1,progressTitle:"",defaults:{dataType:"json",cache:!1,type:"post",data:{}},init:function(e){var t,n,r,i,s=this;e.messageHandler&&(this.messageHandler=function(){return e.messageHandler.apply(this,arguments)});if(e.showProgressModal){this.showProgressModal=!0;e.progressTitle&&(this.progressTitle=e.progressTitle)}r=this.successHandler;e.success?t=function(){if(r.apply(s,arguments)){arguments[0]&&arguments[0].hasOwnProperty("header")&&arguments[0].hasOwnProperty("body")&&(arguments[0]=arguments[0].body);e.success.apply(this,arguments)}}:t=r;i=this.errorHandler;e.error?n=function(){i.apply(s,arguments)&&e.error.apply(this,arguments)}:n=i;this.isCrossDomain(e.url)&&(this.defaults.dataType="jsonp");this.settings={};$.extend(!0,this.settings,this.defaults,e);if(this.settings.dataType==="jsonp"){this.settings.data.jsonp=1;this.settings.jsonp||(this.settings.jsonp="jsoncallback")}else this.settings.data.json=1;this.settings.success=$.proxy(t,this);this.settings.error=$.proxy(n,this)},execute:function(){var e=$("#token").val();e&&(this.settings.data.hash=$("#token").val());this.showProgressModal&&this.addProgressModal();return $.ajax(this.settings)},errorHandler:function(e,t,n){if(e.readyState===4&&t!=="abort"){Pb.Component.Element.Message.remove();Pb.Component.Element.Message.showDefaultErrorMessage();this.showProgressModal&&this.hideProgressModal()}return!0},successHandler:function(e){e.hash&&$("#token").val(e.hash);var t={debug:{messages:[],stopwatche:[]}},n=this;if(e.hasOwnProperty("header")){t=e.header;t.hasOwnProperty("debug")&&Pb.Debug&&Pb.Debug.add(t.debug);e.hasOwnProperty("body")&&(e=e.body)}if(this.showProgressModal){Pb.Modal.ModalProgressBar.updateProgressIndicator("#ajaxProgressModal",100);setTimeout(function(){n.handleMessages(e);n.hideProgressModal()},200)}else this.handleMessages(e);return!0},isCrossDomain:function(e){var t=e.match(/:\/\/(.[^/]+)/);return t!==null&&t.length>1&&location.host!==t[1]?!0:!1},handleMessages:function(e){var t=e.messages,n=e.form,r=!1,i=!1,s,o,u,a,f=this;t&&$.each(t,function(){if(this.memo!==""){f.messageHandler&&(i=f.messageHandler(this));if(!i){if(n)s="form[name='"+n+"'] [name='"+this.memo+"'], "+"form[id='"+n+"'] [name='"+this.memo+"']";else{s="form [name='"+this.memo+"'], form input#"+this.memo;o="#"+this.memo}u=$(s+", "+o);a=u.parent().parent(".control-group");if(u.length>0&&a.length>0){a.addClass("error");a.find(".help-inline, .help-block").html(this.message+this.details);r=!0}else Pb.Component.Element.Message.show(this)}}else{f.messageHandler&&(i=f.messageHandler(this));i||Pb.Component.Element.Message.show(this)}});r&&Pb.Component.Element.Message.showDefaultErrorMessage()},addProgressModal:function(){var e=$("#ajaxProgressModal");if(!e.length){e=$('<div class="modal hide fade no-footer" id="ajaxProgressModal" data-backdrop="static" data-keyboard="true"><div class="modal-header"><a class="close" data-dismiss="modal"><i class="icon-remove"></i></a><h2 class="title">'+this.progressTitle+"</h2></div>"+'<div class="modal-body"></div></div>');$(document.body).append(e)}Pb.Modal.ModalProgressBar.addProgressIndicator("#ajaxProgressModal");e.modal("show")},hideProgressModal:function(){$("#ajaxProgressModal").modal("hide");Pb.Modal.ModalProgressBar.removeProgressIndicator("#ajaxProgressModal")}};return{ajax:t}}();$.getObject("Pb").InitEventQueue=function(){function h(){throw new Error("Event was added to InitEventQueue after domready or load was called")}function p(t,n,r){r=r||e;var i=t.length-1;while(i>=0&&t[i][1]>r)i--;t.splice(i+1,0,[n,r])}function d(e,t){p(s,e,t)}function v(e,t){p(o,e,t)}function m(e){return $.inArray(e,u)===-1?!1:!0}function g(e,t){var n=0;while(n<t.length)for(;n<t.length;n++){var r=(new Date).getTime();t[n][0]();var i=(new Date).getTime()-r;typeof console!="undefined"&&i>20&&console.log(e+" pri "+n+" completed in "+i+"ms")}t=null}function y(e,t){if(typeof console!="undefined"){var n=e+" ("+window.location+")";window.jsStartTime!==undefined&&(n+=" "+(t.getTime()-window.jsStartTime.getTime()+"ms"));console.log(n)}}var e=50,t=1,n=5,r=25,i=51,s=[],o=[],u=[],a=!1,f=!1,l,c;$(document).ready(function(){if(!a){a=!0;l=new Date;y("DomReady START",l);g("DomReady",s);s=null;Pb.InitEventQueue.addToDomReady=h;u.push("DomReady");var e=new Date;y("DomReady END ("+(e.getTime()-l.getTime())+"ms)",e)}});$(window).load(function(){if(!f){f=!0;c=new Date;y("PageLoad START",c);g("PageLoad",o);o=null;Pb.InitEventQueue.addToPageLoad=h;u.push("PageLoad");var e=new Date;y("PageLoad END ("+(e.getTime()-c.getTime())+"ms)",e)}});return{addToDomReady:d,add:d,addToPageLoad:v,hasEventOccurred:m,DEFAULT_PRIORITY:e,TOP_PRIORITY:t,HIGH_PRIORITY:n,MEDIUM_PRIORITY:r,LOW_PRIORITY:i}}();$.getObject("Pb.Data").Shared=function(){function y(e,t,n,s){var o=null,u,a;typeof s=="undefined"&&(s=!0);if($.isNumeric(n)){var f=E(e);if(!$.isArray(f)){f=[];if(e===i&&Pb.Data.Albums){u=Pb.Data.Albums.getCurrentAlbum();u&&u.addItems(t)}else{a=w(e);a?a.addItems(t):Pb.Data.add(e,f)}}f[n]=t;o=f}else{if(e===r&&Pb.Data.Albums)Pb.Data.Albums.addAlbum(t);else if(e===i&&Pb.Data.Albums){u=Pb.Data.Albums.getCurrentAlbum();u&&u.addItems(t)}else{a=w(e);a?a.addItems(t):Pb.Data.add(e,t)}o=t}s&&A(e,o);return o}function b(e,t){Pb.Data.add(e+"Collection",t)}function w(e){return Pb.Data.get(e+"Collection")}function E(e,t){var n,s;if(e===r&&Pb.Data.Albums){n=Pb.Data.Albums.getCurrentAlbumData();if(!n)return null;n=n[0]}else if(e===i&&Pb.Data.Albums)n=Pb.Data.Albums.getCurrentMediaData();else{s=w(e);s?n=s.getLinkableCollectionItemsData():n=Pb.Data.get(e)}var o=null;$.isNumeric(t)?o=n[t]:o=n;return o}function S(e){var t=null,n;if(e===i&&Pb.Data.Albums)t=Pb.Data.Albums.getCurrentPageData();else{n=w(e);n&&(t=n.getLinkableCollectionPageData())}return t}function x(n,r,i){$(n).data(e,r);$.isNumeric(i)&&$(n).attr("data-"+t,i)}function T(e){var t=N(e);return E(C(t),k(t))}function N(t){return $(t).closest("[data-"+e+"]")}function C(t){var n=$(t).data(e);return n}function k(e){var n=$(e).data(t);return n}function L(e,t){if(e==null||typeof e=="undefined")return null;typeof t=="undefined"&&(t=E(e));t!=null&&(t=A(e,t));return t}function A(e,t){$.isArray(t)?$.each(t,function(t,n){A(e,n)}):$.observable(t).setProperty("pbdkey",e);return t}var e="pbdkey",t="pbdoffset",n="shared.globalAlbumSet",r="shared.album",i="shared.albumSet",s="shared.media",o="shared.mediaSet",u="shared.searchSet",a="shared.recentSet",f="shared.categorySet",l="shared.likeSet",c="shared.activityObjectSet",h="shared.mediaselector",p="shared.mediaselect.album",d="shared.story",v="shared.storyset",m="shared.storyset.modal",g="shared.browse.storyset";return{PBD_ATTR_KEY:e,PBD_ATTR_OFFSET:t,GLOBAL_ALBUM_SET:n,ALBUM:r,ALBUM_SET:i,MEDIA:s,MEDIA_SET:o,SEARCH_SET:u,RECENT_SET:a,CATEGORY_SET:f,LIKE_SET:l,ACTIVITY_OBJECT_SET:c,MEDIA_SELECTOR:h,MEDIA_SELECTOR_ALBUM:p,STORY:d,STORY_SET:v,STORY_SET_MODAL:m,BROWSE_STORY_SET:g,put:y,get:E,getPaginated:S,getData:T,sync:L,attach:x,closest:N,key:C,offset:k,addCollection:b,getCollection:w}}();$.getObject("Pb",!0).Utilities=function(){function t(e,t,n){if(arguments.length>=2){n=$.extend({domain:".photobucket.com",expires:1,path:"/"},n);return $.cookie(e,t,n)}return $.cookie(e)}function n(t){t&&(e=null);if(!e){e=new QueryParameters;var n=window.location.search.substr(1).split("&");if(n!=="")for(var r=0;r<n.length;++r){var i=n[r].split("=");i.length===2&&(e[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")))}}return e}var e;QueryParameters=function(){};QueryParameters.prototype.toQueryString=function(){var e="",t=0;for(var n in this)if(typeof this[n]!="function"){t===0&&(e+="?");t>=1&&(e+="&");e+=n;e+="=";e+=escape(this[n]);t++}return e};QueryParameters.prototype.clone=function(){var e=new QueryParameters;for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e};return{cookie:t,getQueryParameters:n}}();$.getObject("Pb.Media",!0).MediaIdentifierFactory=function(){function e(){}var t={getIdentifier:function(e){var t;e instanceof Pb.Path.PBPath?t=this.fromPBPath(e):e.path?t=this.fromPBPath(new Pb.Path.PBPath(e.path)):t=null;return t},fromPBPath:function(e){var t=null;if(e.filename!=null){var n="path:";n+=e.location;n+=e.filename;t=btoa(n)}return t}};$.extend(e.prototype,t);return new e}();$.getObject("Pb.Path",!0).PBPath=function(){function e(e){this.pathString=decodeURIComponent(e);this.parse(this.pathString)}var t={pathFormat:/^\/?([^\/]+)\/([^\/]+)\/([^\/]+)\/(.*\/)?([^\/]+)$/,parse:function(e){var t=this.pathFormat.exec(e);if(t==null){this.albumType=null;this.vee=null;this.ownername=null;this.location=null;this.filename=null}else{this.albumType=t[1];this.vee=t[2];this.ownername=t[3];this.location=t[4]===undefined?"":t[4];this.filename=t[5]}}};$.extend(e.prototype,t);return e}();(function(e,t,n){"use strict";function H(e,t){if(t&&t.onError&&t.onError(e)===p)return;this.name="JsRender Error";this.message=e||"JsRender error"}function B(e,t){var n;e=e||{};for(n in t)e[n]=t[n];return e}function j(e,t,n){if(!P.rTag||arguments.length){a=e?e.charAt(0):a;f=e?e.charAt(1):f;l=t?t.charAt(0):l;c=t?t.charAt(1):c;h=n||h;e="\\"+a+"(\\"+h+")?\\"+f;t="\\"+l+"\\"+c;o="(?:(?:(\\w+(?=[\\/\\s\\"+l+"]))|(?:(\\w+)?(:)|(>)|!--((?:[^-]|-(?!-))*)--|(\\*)))"+"\\s*((?:[^\\"+l+"]|\\"+l+"(?!\\"+c+"))*?)";P.rTag=o+")";o=new RegExp(e+o+"(\\/)?|(?:\\/(\\w+)))"+t,"g");u=new RegExp("<.*>|([^\\\\]|^)[{}]|"+e+".*"+t)}return[a,f,l,c,h]}function F(e){var t=this,n=!e||e==="root";while(n&&t.parent.parent||t&&t.type!==e)t=t.parent;return t}function I(e){var t,r=this,i=r.ctx||{},s=r.tmpl.helpers||{};e=(i[e]!==n?i:s[e]!==n?s:it[e]!==n?it:{})[e];if(e&&typeof e=="function"){t=function(){var t,n=arguments;for(t in n)typeof n[t]=="function"&&(n[t]=n[t].call(r.data));return e.apply(r,n)};t.depends=e.depends}return t||e}function q(e,t,n,r,i,s){if(e||i){var o,u=!n.markup&&n,a={tagName:e+":",tagCtx:r},f=r.args=M.call(arguments,5);r.view=t;r.bind=!!u||!!i;if(u){u.tag=a;a.linkCtx=u;r.ctx=tt(r.ctx,u.view.ctx)}a.ctx=r.ctx||{};delete r.ctx;if(e){o=t.tmpl.converters;o=o&&o[e]||rt[e];if(o||K("Unknown converter: {{"+e+":"))s=o.apply(a,f)}if(i){i=t.tmpl.bnds[i-1];u.paths=i;t._.tag=a;s=t._.onRender(s,t,d)}}return s}function R(e,t,r,i,s,o){var u,a,f,l,c,h,d=r.markup&&r,v=!d&&r,m=t._,g=d||t.tmpl,y=g.tags,b=g.templates,w=y&&y[e]||st[e],E=s.args=arguments.length>6?M.call(arguments,6):[],S=s.props||{};s.view=t;s.ctx=tt(s.ctx,t.ctx);f=s.ctx||{};delete s.ctx;if(!w){K("Unknown tag: {{"+e+"}}");return""}d=S.tmpl;i=i&&g.tmpls[i-1];d=d||i||w.template||n;d=""+d===d?b&&b[d]||nt[d]||nt(d):d;if(e==="else"){c=t._.tag;l=c._elses=c._elses||[];l.push(d);s.isElse=l.length;a=c.render}if(w.init){h=f.tags=t.ctx&&tt(f.tags,t.ctx.tags)||{};c=c||v.tag;if(c)h[e]=c;else{c=h[e]=new w.init(s,v,f);c.tmpl=d;v&&(c.attr=v.attr=v.attr||w.attr||"")}f.tag=c}else c=c||{render:w.render,renderContent:J,tmpl:d,tagName:e};c.tagCtx=s;c.ctx=f;if(v){v.tag=c;c.linkCtx=v}c._is="tag";c._done=s.isElse?c._done:p;d=d||c.tmpl;l=c._elses;m.tag=c;if(a=a||c.render)u=a.apply(c,E);u=u!==n?u:d?c.renderContent(s.data!==n?s.data:t.data,n,t):"";return o?m.onRender(u,t,o):u}function U(e,t,r,i,s,o,u){var a,f,l=t==="array",c={key:0,useKey:l?0:1,id:""+N++,onRender:u,bnd:{}},h={data:i,tmpl:s,views:l?[]:{},parent:r,ctx:e,type:t,get:F,_hlp:I,_:c};if(r){a=r.views;f=r._;f.useKey?a[c.key="_"+f.useKey++]=h:a.splice(c.key=h.index=o!==n?o:a.length,0,h);h.ctx=e||r.ctx}return h}function z(e){var t,n,r,i,s;for(t in D){i=D[t];if((s=i.compile)&&(n=e[t+"s"]))for(r in n)n[r]=s(r,n[r],e,t,i)}}function W(e,t,n){var r,i;if(typeof t=="function")t={tagName:e,render:t,depends:t.depends};else{t.tagName=e;if(i=t.template)t.template=""+i===i?nt[i]||nt(i):i;if(t.init!==p){r=t.init=t.init||function(e){};r.prototype=t;(r.prototype=t).constructor=r}}t.renderContent=J;t.attr="html";n&&(t._parentTmpl=n);return t}function X(e,r,i,s,o,a){function f(n){if(""+n===n||n.nodeType>0){try{c=n.nodeType>0?n:!u.test(n)&&t&&t(n)[0]}catch(r){}if(c){n=nt[c.getAttribute(A)];if(!n){e=e||"_"+T++;c.setAttribute(A,e);nt[e]=n=X(e,c.innerHTML,i,s,o,a)}}return n}}var l,c;r=r||"";l=f(r);a=a||(r.markup?r:{});a.tmplName=e;i&&(a._parentTmpl=i);!l&&r.markup&&(l=f(r.markup))&&l.fn&&(l.debug!==r.debug||l.allowCode!==r.allowCode)&&(l=l.markup);if(l!==n){e&&!i&&(_[e]=function(){return r.render.apply(r,arguments)});if(l.fn||r.fn)l.fn&&(e&&e!==l.name?r=tt(a,l):r=l);else{r=V(l,a);G(l,r)}z(a);return r}}function V(e,t){var n,r=ut.wrapMap||{},s=B({markup:e,tmpls:[],links:{},bnds:[],render:J},t);if(!t.htmlTag){n=S.exec(e);s.htmlTag=n?n[1].toLowerCase():""}n=r[s.htmlTag];if(n&&n!==r.div){s.markup=i.trim(s.markup);s._elCnt=d}return s}function $(e,t){function r(s,o,u){var a,f,l,c,h,p,d,v;if(s&&""+s!==s&&!s.nodeType&&!s.markup){for(c in s)r(c,s[c],o);return P}d=u?u[i]=u[i]||{}:r;if(o===n){o=s;s=n}f=t.compile;if(a=ot.onBeforeStoreItem)f=a(d,s,o,f)||f;if(!s)o=f(n,o);else if(""+s===s)if(o===null)delete d[s];else{d[s]=f?o=f(s,o,u,e,t):o;if(e==="template"&&(h=d[s].templates))for(v in D){v+="s";if(l=o[v])for(p in h){p=h[p];p[v]=tt(p[v],l)}}}o&&(o._is=e);(a=ot.onStoreItem)&&a(d,s,o,f);return o}var i=e+"s";P[i]=r;D[e]=t}function J(e,t,r,s,o,u){var a,f,l,c,h,v,m,g,y,b,w,E,S=this,x=S,T=S.attr===n||S.attr==="html",N="";if(s===d){y=d;s=0}if(w=S._is==="tag"){b=S.tagCtx;x=b.isElse?S._elses[b.isElse-1]:S.tmpl;t=tt(t,S.ctx);g=b.props||{};if(g.link===p){t=t||{};t.link=p}r=r||b.view}else x=S.jquery&&(S[0]||K('Unknown template: "'+S.selector+'"'))||S;if(x){if(r){u=u||r._.onRender;m=r.ctx;if(e===r){e=r.data;o=d}}t=tt(t,m);x.fn||(x=nt[x]||nt(x));if(x){u=(t&&t.link)!==p&&T&&u;E=u;if(u===d){E=n;u=r._.onRender}if(i.isArray(e)&&!o){c=y?r:s!==n&&r||U(t,"array",r,e,x,s,u);for(a=0,f=e.length;a<f;a++){l=e[a];h=U(t,"item",c,l,x,(s||0)+a,u);v=x.fn(l,h,i.views);N+=c._.onRender?c._.onRender(v,h):v}}else{c=y?r:U(t,"data",r,e,x,s,u);N+=x.fn(e,c,P)}return E?E(N,c):N}}return""}function K(e){if(ut.debugMode)throw new P.sub.Error(e)}function Q(e){K("Syntax error\n"+e)}function G(e,t,n){function r(t){t-=l;t&&h.push(e.substr(l,t).replace(g,"\\n"))}function i(t){t&&Q('Unmatched or missing tag: "{{/'+t+'}}" in template:\n'+e)}function s(t,s,o,f,v,m,g,b,S,x,T,N){if(m){v=":";f="html"}var C,k=[],L="",A="",O="",M=!x&&!v&&!g&&!n;o=o||v;r(N);l=N+t.length;if(b)a&&h.push(["*","\n"+S.replace(y,"$1")+"\n"]);else if(o){if(o==="else"){E.test(S)&&Q('for "{{else if expr}}" use "{{else expr}}"');p[6]=e.substring(p[6],N);p=c.pop();h=p[3];M=d}S&&(L=Z(S,k).replace(w,function(e,t,n){t?O+=n+",":A+=n+",";return""}));A=A.slice(0,-1);L=L.slice(0,-1);u=[o,f||"",L,M&&[],"{"+(A?"props:{"+A+"},":"")+'params:"'+S+'"'+(O?",ctx:{"+O.slice(0,-1)+"}":"")+"},",s&&k||0];h.push(u);if(M){c.push(p);p=u;p[6]=l}}else if(T){C=p[0];i(T!==C&&C&&C!=="else");p[6]=e.substring(p[6],N);p=c.pop()}i(!p&&T);h=p[3]}var u,a=t&&t.allowCode,f=[],l=0,c=[],h=f,p=[,,,f];e=e.replace(b,"\\$1");i(c[0]&&c[0][3].pop()[0]);e.replace(o,s);r(e.length);(l=f[f.length-1])&&i(""+l!==l&&+l[6]===l[6]&&l[0]);return Y(f,t)}function Y(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,v,m,g,y,b,w,E="",S={},x=e.length;if(t){if(y=t.allowCode)S.allowCode=d;t.debug&&(S.debug=d);p=t.bnds;m=t.tmpls}for(n=0;n<x;n++){r=e[n];E+="\nret+=";if(""+r===r)E+='"'+r+'";';else{f=r[0];if(f==="*")E=(n?E.slice(0,-5):"")+r[1];else{l=r[1];c=r[2];b=r[3];h=r[4];v=r[5];w=r[6];if(b){g=V(w,S);Y(b,g);m.push(g)}if(v){p.push(v);v=p.length}a=a||h.indexOf("view")>-1;E+=f===":"?l==="html"&&!v?(s=d,"h("+c+");"):l||v?(u=d,'c("'+l+'",view,this,'+h+v+","+c+");"):(o=d,"(v="+c+')!=u?v:"";'):(i=d,'t("'+f+'",view,this,'+(b?m.length:'""')+","+h+v+(c?",":"")+c)+");"}}}E=O+(o?"v,":"")+(i?"t=j._tag,":"")+(u?"c=j._cnvt,":"")+(s?"h=j.converters.html,":"")+'ret=""; try{\n'+(S.debug?"debugger;":"")+E+"\nreturn ret;\n\n}catch(e){return j._err(e);}";try{E=new Function("data, view, j, u",E)}catch(T){Q("Compiled template code:\n\n"+E,T)}t&&(t.fn=E);return E}function Z(e,t){function n(n,a,f,l,c,h,m,g,y,b,w,E,S,x,T,N){function C(e,n,r,i,s,o,u){if(n){t.push(l);if(n!=="."){var a,f=(r?'view._hlp("'+r+'")':i?"view":"data")+(u?(s?"."+s:r?"":i?"":"."+n)+(o||""):(u=r?"":i?s||"":n,""));a=u?"."+u:"";f+=a;f=f.slice(0,9)==="view.data"?f.slice(5):f;return f}}return e}c=c||"";f=f||a||w;l=l||g;y=y||T||"";if(!h)return u?(u=!E,u?n:'"'):o?(o=!S,o?n:'"'):(f?(s++,f):"")+(N?s?"":r?(r=p,"\b"):",":m?(s&&Q(e),r=d,"\b"+l+":"):l?l.split("^").join(".").replace(v,C)+(y?(i[++s]=d,y):c):c?c:x?(i[s--]=p,x)+(y?(i[++s]=d,y):""):b?(i[s]||Q(e),","):a?"":(u=E,o=S,'"'));Q(e)}var r,i={},s=0,o=p,u=p;t.expr=e.replace(y,"$1");return(e+" ").replace(m,n)}function et(e){return C[e]||(C[e]="&#"+e.charCodeAt(0)+";")}function tt(e,t){return e&&e!==t?t?B(B({},t),e):e:t&&B({},t)}if(t&&t.views||e.jsviews)return;var r="v1.0pre",i,s,o,u,a="{",f="{",l="}",c="}",h="^",p=!1,d=!0,v=/^(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,m=/(\()(?=|\s*\()|(?:([([])\s*)?(?:([#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*!:?\/]|(=))\s*|([#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*([)\]])([([]?))|(\s+)/g,g=/\r?\n/g,y=/\\(['"])/g,b=/([\\'"])/g,w=/\x08(~)?([^\x08]+)\x08/g,E=/^if\s/,S=/<(\w+)[>\s]/,x=/<(\w+)[^>\/]*>[^>]*$/,T=0,N=0,C={"&":"&amp;","<":"&lt;",">":"&gt;"},k=/[<"'&]/g,L=/[\x00<>"'&]/g,A="data-jsv-tmpl",O="var j=j||"+(t?"jQuery.":"js")+"views,",M=[].slice,_={},D={template:{compile:X},tag:{compile:W},helper:{},converter:{}},P={jsviews:r,render:_,View:U,settings:{delimiters:j,debugMode:d},sub:{Error:H,tmplFn:G,parse:Z,extend:B,error:K},_cnvt:q,_tag:R,_err:function(e){return ut.debugMode?"Error: "+(e.message||e)+". ":""}};(H.prototype=new Error).constructor=H;for(s in D)$(s,D[s]);var nt=P.templates,rt=P.converters,it=P.helpers,st=P.tags,ot=P.sub,ut=P.settings;if(t){i=t;i.render=_;i.views=P;i.templates=nt=P.templates;i.fn.renderContent=J;i.fn.extendCtx=tt;i.fn.View=U}else{i=e.jsviews=P;i.isArray=Array&&Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}}st({"if":function(e){var t=this;return t._done||arguments.length&&!e?"":(t._done=!0,t.renderContent(t.tagCtx.view))},"else":function(){},"for":function(){var e,t,r,s=this,o=s.tagCtx,u="",a=arguments,f=0,l=a.length;if(!l)return o.done?"":(o.done=d,s.renderContent(o.view));for(e=0;e<l;e++){t=a[e];r=t===n;if(!!r)return"";f+=i.isArray(t)?t.length:1;u+=s.renderContent(t)}o.done=f;return u},"*":function(e){return e}});rt({html:function(e){return e!=n?String(e).replace(L,et):""},attr:function(e){return e!=n?String(e).replace(k,et):""},url:function(e){return e!=n?encodeURI(String(e)):""}});j()})(window,window.jQuery);(function(e,t,n){"use strict";function m(e){return o(e)?new y(e):new g(e)}function g(e){this._data=e;return this}function y(e){this._data=e;return this}function b(e,t,n){if(e&&t){var r=t.split(".");while(e&&r.length>n)e=e[r.shift()];return n?[e,r.join(".")]:e}}function w(e){if(typeof e!="number")throw"Invalid index."}function E(e,t){e=o(e)?e:[e];var n,r,s=t,u=s,a=e.length,f=[];for(n=0;n<a;n++){r=e[n];if(h(r)){i.apply(f,[f.length,1].concat(E(r.call(t,t),t)));continue}if(""+r!==r){t=u=r;continue}u!==s&&f.push(s=u);f.push(r)}return f}function S(e,t){var n=e.data;if(n.prop==="*"||n.prop===t.path){typeof t.oldValue===a&&T(t.oldValue,n.path,n.cb);typeof t.value===a&&x(t.value,n.path,n.cb,n.root);n.cb.call(n.root,e,t)}}function x(){function e(e,n){A=m[u];if(g){if(A){t(m).off(e,S);delete v[A.obId]}}else{if(n==="*"&&(N=A)){N=N&&N.events;N=N&&N.propertyChange;w=N&&N.length;while(w--){T=N[w].data;if(T.cb===y&&T.prop!==n){t(m).off(e+"."+T.prop,S);delete v[A.obId]}}}t(m).on(e,null,{root:H,path:n,prop:f,cb:y},S);if(L){A=m[u];L[A.obId=A.obId||p++]=m}}}var r,o,a,f,c,m,g,y,b,w,T,N,C,k,L,A,O,M=1,_=l,D=s.apply([],arguments),P=D.pop(),H=D[0],B=""+H!==H?D.shift():n,j=D.length;H=B;if(h(P))y=P;else{if(P===!0)g=P;else if(P){H=P;M=0}if(h(D[j-1])){y=D.pop();j--}}if(h(D[j-1])){C=y;y=D.pop();j--}_+=g?y?"."+y.cbNs:"":"."+(y.cbNs=y.cbNs||"obs"+d++);b=y&&y.cbNs;g&&j===0&&B&&t(B).off(l,S);L=y?M?y._bnd=y._bnd||{}:y._bnd:n;O=0;for(r=0;r<j;r++){a=D[r];if(""+a!==a){B=a;M&&(H=B);continue}o=a.split("^");if(o[1]){O=o[0].split(".").length;a=o.join(".");O=a.split(".").length-O}if(C&&(k=C(a,B))){j+=k.length-1;i.apply(D,[r--,1].concat(k));continue}m=B;o=a.split(".");while(m&&typeof m=="object"&&(f=o.shift())){if(o.length<O+1&&!m.nodeType){if(!g&&(N=m[u])){N=N.events;N=N&&N.propertyChange;w=N&&N.length;while(w--){T=N[w].data;if(T&&T.cb===y&&(T.prop===f||T.prop==="*"))break}if(w>-1){m=m&&m[f];continue}}c=m[f];f==="*"?h(m)?(c=h(m)&&m.depends)&&x(m.depends,y,g||H):e(_,f):(c=h(c)&&c.depends)?x(m,E(c,m),y,g||H):e(_+"."+f,o.join("."))}m=m&&m[f]}}return{cbNs:b,bnd:L}}function T(){[].push.call(arguments,!0);return x.apply(this,arguments)}if(!t)throw"requires jQuery or JsRender";if(t.observable)return;var r="v1.0pre",i=[].splice,s=[].concat,o=t.isArray,u=t.expando,a="object",f="propertyChange",l=f+".observe",c="arrayChange",h=t.isFunction,p=1,d=1,v;t.event.special.propertyChange={remove:function(e){(e=e.data)&&(e=e.cb)&&(v=e._bnd)}};t.observable=m;m.Object=g;m.Array=y;m.observe=x;m.unobserve=T;g.prototype={_data:null,data:function(){return this._data},observe:function(e,t){return x(this._data,e,t)},unobserve:function(e,t){return T(this._data,e,t)},setProperty:function(e,t){var n,r,i,s=this;if(o(e)){r=e.length;while(r--){i=e[r];s.setProperty(i.name,i.value)}}else if(""+e!==e)for(r in e)s.setProperty(r,e[r]);else(n=b(s._data,e,1))&&e!==u&&s._setProperty(n[0],n[1],t);return s},_setProperty:function(e,t,n){var r,i,s=e[t];if(h(s)&&s.set){i=s;r=i.set;s=s.call(e)}if(s!=n)if(!(s instanceof Date)||s>n||s<n){if(r){r.call(e,n);n=i.call(e)}else e[t]=n;this._trigger(e,{path:t,value:n,oldValue:s})}},_trigger:function(e,n){t(e).triggerHandler(f,n)}};y.prototype={_data:null,data:function(){return this._data},insert:function(e,t){w(e);if(arguments.length>1){t=o(t)?t:[t];t.length&&this._insert(e,t)}return this},_insert:function(e,t){i.apply(this._data,[e,0].concat(t));this._trigger({change:"insert",index:e,items:t})},remove:function(e,t){w(e);t=t===n||t===null?1:t;if(t&&e>-1){var r=this._data.slice(e,e+t);t=r.length;t&&this._remove(e,t,r)}return this},_remove:function(e,t,n){this._data.splice(e,t);this._trigger({change:"remove",index:e,items:n})},move:function(e,t,r){w(e);w(t);r=r===n||r===null?1:r;if(r){var i=this._data.slice(e,e+r);this._move(e,t,r,i)}return this},_move:function(e,t,n,r){data.splice(e,n);i.apply(this._data,[t,0].concat(r));this._trigger({change:"move",oldIndex:e,index:t,items:r})},refresh:function(e){var t=this._data.slice(0);this._refresh(t,e);return this},_refresh:function(e,t){i.apply(this._data,[0,this._data.length].concat(t));this._trigger({change:"refresh",oldItems:e})},_trigger:function(e){t([this._data]).triggerHandler(c,e)}}})(window,window.jQuery||window.jsviews);(function(e,t,n){"use strict";function rt(e){var r,i,s,o,u,a,f,l,c,h,p,v,m,g=e.target,b,w,E=g._jsvBnd;if(E){v=E.slice(1).split("&");m=v.length;while(m--){p=Z[v[m]];o=p.linkCtx;h=o.view;if(E=p.to){c=t(g);b=h._hlp(D);w=h._hlp(P);s=at(g);r=q[s];u=T(s)?s(g):r?c[r]():c.attr(s);if((!b||!(i=b.call(h,e)===y))&&u!==n){f=E[1];E=E[0];l=E[0];E=E[2]||E[1];if(T(f))a=f;else{a=h.tmpl.converters;a=a&&a[f]||d.converters[f]}a&&(u=a.call(o.tag,u));if(u!==n&&l){try{C(l).setProperty(E,u)}catch(S){W(S)}w&&w.call(o,e)}}i&&e.stopImmediatePropagation()}}}}function it(e,r,i){var s,o,u,a,f,l,c,h,p,v,m=this,g=m.tag||{},S=m.data,x=m.elem,N=x.parentNode,C=N,k=t(x),L=m.view,A=L._hlp(D);if((!A||!r||A.call(m,e,r)!==y)&&(!r||e.data.prop===r.path)){v=L.linkCtx;L.linkCtx=m;r&&(m.eventArgs=r);if(r||m._initVal){delete m._initVal;a=i.call(m,S,L,d);s=m.attr||at(x,b);if(l=m.tag)l.parentElem=N;l=l||{};c=l.ctx;T(a)&&W(m.expr+": missing parens");if(s==="none")return;if(s==="visible"){s="css-display";a=a&&a!=="false"?ot(x):"none"}if(f=s.lastIndexOf("css-",0)===0&&s.substr(4))(u=t.style(x,f)!==a)&&t.style(x,f,a);else{if(s==="value"){if(x.type==="radio"){if(x.value!==""+a){ct(m,m.data,m.elem);return}a=s="checked"}if(x.type===E){s="checked";a=a&&a!=="false"?s:n}}o=q[s];if(o){if(l||(u=k[o]()!==a)){if(s==="html"){if(yt(x,b)){g.nodes&&t(g.nodes(b)).remove();h=x;p=x.nextSibling}else{k.empty();C=x}l.onBeforeLink&&l.onBeforeLink();L.link(S,C,h,p,a);Et(l)}else s==="text"&&!x.children[0]?x.textContent!==n?x.textContent=a:x.innerText=a:k[o](a);x.nodeName.toLowerCase()==="input"&&k.blur()}}else(u=k.attr(s)!=a)&&k.attr(s,a===n||a===""?w:a)}r&&u&&(A=L._hlp(P))&&A.call(m,e,r)}ct(m,S,x);v?L.linkCtx=v:delete L.linkCtx}}function st(e,t){var n=this,r=n._hlp(D),i=n._hlp(P);if(!r||r.call(this,e,t)!==y){if(t){var s=t.change,o=t.index,u=t.items;switch(s){case"insert":n.addViews(o,u);break;case"remove":n.removeViews(o,u.length);break;case"move":n.refresh();break;case"refresh":n.refresh()}}i&&i.call(this,e,t)}}function ot(t){var n,r,i=e.getComputedStyle,s=(t.currentStyle||i.call(e,t,"")).display;if(s==="none"&&!(s=Q[r=t.nodeName])){n=p.createElement(r);p.body.appendChild(n);s=(i?i.call(e,n,""):n.currentStyle).display;Q[r]=s;p.body.removeChild(n)}return s}function ut(e){var r,i=e.data,s=e._onArrayChange;if(!e._.useKey){if(s){t([s[1]]).off(M,s[0]);e._onArrayChange=n}if(i){r=function(){e.data!==n&&st.apply(e,arguments)};t([i]).on(M,r);e._onArrayChange=[r,i]}}}function at(e,t){var n=d.merge[e.nodeName.toLowerCase()];return n?t?n.to.toAttr:n.from.fromAttr:t?"html":""}function ft(e,r,i,s,o,u,a){var f,l,c,h,p,d,v,m,g=e.parentElem,w=e._prv,E=e._nxt,S=e._elCnt;if(w&&w.parentNode!==g)return y;if(a){m=e.nodes();if(S&&w!==E){v=yt(w);w&&w.removeAttribute(A);if(v){f=v.length;while(f--){d=v[f];d.open&&(Y[d.id]._prv=v.tokens)}}}e.removeViews(n,n,b);c=E;w=S?w.previousSibling:w;t(m).remove()}else{if(r){h=s[r-1];if(!h)return y;w=h._nxt}if(S){c=w;w=c?c.previousSibling:h&&g.lastChild}else c=w.nextSibling}l=i.render(o,u,e,a||r,e._.useKey&&a,b);p=e.tag||{};p.onBeforeLink&&p.onBeforeLink();e.link(o,g,w,c,l,a);Et(p)}function lt(e,t,n){var r,i="_#",s="_/",o="_`";if(n){Z[r=G++]=t._.tag;r="^"+r}else Y[r=t._.id]=t;return i+r+o+e+s+r+o}function ct(e,t,r){var i,s,o,u,a=[],f=e._bndId||""+G++;delete e._bndId;if(i=e.tag){a=i.depends;a=T(a)?i.depends():a;o=i.onChange}o=o||e._cvtBk;if(!e._depends||""+e._depends!=""+a){e._depends&&k(t,e._depends,e._handler,b);s=k(t,e.paths,a,e._handler,e._filter);s.tgt=r;s.linkCtx=e;r._jsvBnd=r._jsvBnd||"";r._jsvBnd+="&"+f;e._depends=a;e.view._.bnd[f]=f;Z[f]=s;if(o!==n){u=e.paths[0].split("^").join(".");s.to=[e._filter(u)||[e.data,u],o]}}}function ht(e,n,r,i,s,o,u){return t.link(this,e,n,r,i,s,o,u)}function pt(e,r,i,u,a,f,l,c){if(e&&r){r=r.jquery?r:t(r);if(!s){s=p.body;t(s).on(_,rt)}var h,d,v,m=lt,g=u&&u.target==="replace",w=r.length;while(w--){v=r[w];if(""+e===e)vt(e,v,o(v),i,u);else{a=a||o(v);if(e.markup!==n){if(a.link===y){u=u||{};u.link=m=y}g&&(d=v.parentNode);h=e.render(i,u,a,n,n,m);if(d){f=v.previousSibling;l=v.nextSibling;t.cleanData([v],b);d.removeChild(v);v=d}else{f=l=n;t(v).empty()}}else if(e!==b)break;a.link(i,v,f,l,h)}}}return r}function dt(e,r,s,u,a,f){function l(e,t,n,r,i,s,o,u,a,f,l,c){var h="";u=u||a||"";r=r||n||f||c;if(r){it=rt;W=pt.shift();rt=J[W];if(it&&(ct||ot)){ct+=ot;ot="";rt||(h=(f||"")+j+"@"+ct+B+(l||""));ct=rt?ct+"-":""}}if(rt)if(s){ot+=s;if(u){t+=u+" "+A+'="'+ot+'"';ot=""}}else t=(f||c||"")+u;else t=s?t+h+i+j+s+B+o+u:h||e;if(u){pt.unshift(W);W=u.slice(1);it=rt=J[W];ct&&rt&&(ct+="+")}return t}function c(e,t){var n,s,o,u;if(e){b=e.length;if(e.tokens.charAt(3)==="@"){t=S.previousSibling;S.parentNode.removeChild(S)}while(b--){N=e[b];if(N.opBnd||N.clBnd)ht.push([S,N]);else{x=Y[u=N.id];if(n=N.path){y=n.length-1;while(s=n.charAt(y--))if(s==="+")if(n.charAt(y)==="-"){y--;t=t.previousSibling}else t=t.parentNode;else t=t.lastChild}if(!x.link){x.parentElem=t||S&&S.parentNode||r;if(t){O="|"+u;nt=t.getAttribute(A)||"";nt.indexOf(O)<0&&t.setAttribute(A,O+nt);x._prv=0}g(x,i);x._.onRender=lt;ut(x)}o=x.parentElem;if(N.open){x.parent===ft&&(M=x);x._elCnt=N.elCnt;if(t)t._dfr="#"+u+(t._dfr||"");else{if(!x._prv){o=x.parentElem;if(x._prv===0){O=o.getAttribute(A);(O=gt(O,"|"+u))?o.setAttribute(A,O):o.removeAttribute(A)}o._dfr=gt(o._dfr,"#"+u)}x._prv=S}}else{if(t)t._dfr="/"+u+(t._dfr||"");else{x._nxt||(o._dfr=gt(o._dfr,"/"+u));x._nxt=S}h=x.linkCtx;dt&&dt.call(h,x)}}}}}var h,d,v,m,y,b,E,S,x,T,N,C,k,O,M,_,D,P,F,q,R,U,z,W,Q,G,et,nt,rt,it,st,ot,at,ft=this,ct="",ht=[],pt=[],dt=ft._hlp(H);r=""+r===r?t(r)[0]:r.jquery?r[0]:r||ft.parentElem||p.body;W=r.tagName.toLowerCase();rt=!!J[W];s=s&&bt(s,rt);u=u&&bt(u,rt)||w;if(a){G=p.createElement("div");Q=G;at=ot="";st=r.namespaceURI==="http://www.w3.org/2000/svg"?"svg":(z=X.exec(a))&&z[1]||"";if(rt){F=u?u.previousSibling:r.lastChild;while(F&&!(T=yt(F)))F=F.previousSibling;if(F){m=T.length;while(m--){x=T[m].id;if(Y[x].parent===(f?ft.parent:ft)){D=x;break}}}F=u;while(F&&!(P=yt(F)))F=F.nextSibling;if(nt=P?P.tokens:r._dfr){O=D?"/"+D:"#"+ft._.id;y=nt.indexOf(O);if(y+1){y+=O.length;P||(r._dfr=nt.slice(y));at=ot=nt.slice(0,y)}}}a=a.replace(tt,l);V.appendChild(G);st=K[st]||K.div;q=st[0];Q.innerHTML=st[1]+a+st[2];while(q--)Q=Q.lastChild;V.removeChild(G);R=p.createDocumentFragment();while(U=Q.firstChild){!_&&U.nodeType===1&&(_=U);R.appendChild(U)}r.insertBefore(R,u)}E=$?r.querySelectorAll(I):t(I,r).get();m=E.length;if(s){k=$?s.querySelectorAll(I):t(I,s).get();s=k.length?k[k.length-1]:s}for(v=0;v<m;v++){S=E[v];if(s)s=S!==s&&s;else{if(u&&S===u)break;if(S.parentNode){c(yt(S));S.getAttribute(L)&&ht.push([S])}}}u&&u.type==="jsv"&&u.parentNode.removeChild(u);s&&s.type==="jsv"&&s.parentNode.removeChild(s);if(rt&&ct+ot){S=u;c(yt(ct+ot),!S&&r);if(u){nt=u.getAttribute(A);nt&&u.setAttribute(A,ot+nt.slice(nt.indexOf(at)+at.length));M&&(M._nxt=u)}}M&&M._elCnt&&M.parentElem===r&&(M._nxt=u);if(rt&&ft._prv&&!ft._prv.parentNode){T=yt(ft._prv);m=T.length;_?_.setAttribute(A,T.tokens):u.setAttribute(A,et+u.getAttribute(A));while(m--){N=T[m];if(x=Y[N.id])N.open?x._prv=_:N.close&&(x._nxt=_||ft._nxt)}}m=ht.length;for(v=0;v<m;v++){S=ht[v];C=S[1];S=S[0];if(C)if(C.opBnd){d=Z[C.id];d.parentElem=S.parentNode;d._prv=S;d._elCnt=C.elCnt;d&&d.onBeforeLink&&d.onBeforeLink()}else{d=Z[C.id];x=d.tagCtx.view;d._nxt=S;Et(d);vt(n,d._prv,x,x.data||e,C.id)}else{x=o(S);vt(S.getAttribute(L),S,x,x.data||e)}}}function vt(e,t,r,i,s){var o,h,p,m,g,y,E,S,x,T,N;if(s){T=Z[s];e=f+T.tagName+" "+T.tagCtx.params+l}if(e&&t){o=r.tmpl.links;e=wt(e,t);u.lastIndex=0;while(h=u.exec(e)){N=u.lastIndex;p=s?"html":h[1];E=h[3];g=h[10];m=n;x={data:i,elem:t,view:r,attr:p,_initVal:!s&&!h[2]};if(h[6]){if(!p&&(m=/^.*:([\w$]*)$/.exec(g))){m=m[1];if(m!==n){y=-m.length-1;E=E.slice(0,y-1)+l;g=g.slice(0,y)}}m===w&&(m=n)}if(s){x.tag=T;x._bndId=s}x.expr=p+E;S=o[E]=o[E]||d.sub.tmplFn(a+E+c,n,b);v.parse(g,S.paths=x.paths=[]);!p&&m!==n&&(x._cvtBk=m);mt(x,S);u.lastIndex=N}}}function mt(e,t){function n(n,r){it.call(e,n,r,t)}e._filter=At(e);e._handler=n;n()}function gt(e,t){e=e||"";var n=e.indexOf(t);return n+1?e.slice(0,n)+e.slice(n+t.length):e}function yt(e,t){function n(e,t,n,i,s,o,u,a,f){r.push({elCnt:!t,id:a,open:n,close:i,opBnd:s,clBnd:o,prnt:u,path:f})}var r=[],i=""+e===e?e:e.tagName==="SCRIPT"?e.type:e.nodeType===1&&e.getAttribute(A);if(i){r.tokens=i;i.replace(nt,n);return t?r.pop().opBnd:r}}function bt(e,t){var n=e;while(t&&n&&n.nodeType!==1)n=n.previousSibling;if(n)if(n.nodeType!==1){n=p.createElement("SCRIPT");n.type="jsv";e.parentNode.insertBefore(n,e)}else!yt(n)&&!n.getAttribute(L)&&n.setAttribute(L,"");return n}function wt(e,n){e=t.trim(e);return e.slice(-1)!==l?e=f+":"+e+(at(n)?":":"")+l:e}function Et(e){if(e){e.contents=St;e.nodes=xt;e.onAfterLink&&e.onAfterLink()}}function St(e,n){var r,i=t(this.nodes());if(i[0]){r=e?i.filter(e):i;i=n&&e?r.add(i.find(e)):r}return i}function xt(e,t,n){var r,i=this._elCnt,s=!t&&i,o=[];t=t||this._prv;n=n||this._nxt;r=s?t===this._nxt?this.parentElem.lastSibling:t:t.nextSibling;while(r&&(!n||r!==n)){(e||i||!yt(r))&&o.push(r);r=r.nextSibling}return o}function Tt(e){var t,r,i,s,o,u,a,f=[];for(t=0;r=e[t];t++)f.push(r);for(t=0;r=f[t];t++)if(r.parentNode){if(o=r._jsvBnd){o=o.slice(1).split("&");r._jsvBnd="";u=o.length;while(u--)Ct(o[u])}if((i=yt(r))&&i.length){i=i[i.length-1];i.opBnd||i.clBnd?r.parentNode.removeChild(r):(i.open||i.prnt)&&(i=Y[i.id])&&i.data!==n&&i.parent.removeViews(i._.key,n,b)}else if(a=r._jsvVws){a=a.slice(1).split("&");u=a.length;while(u--)(s=Y[a[u]])&&s.parent.removeViews(s._.key,n,b)}}}function Nt(e,n,r){var i,s=0,o=e.length;while(o-->0){i=e[o];if(!(n&&n!==i[0]||r&&r!==i[1])){x(i[0])?t([i[0]]).off(M,i[2]):$unobserve(i[0],i[2]);e.splice(o,1);s++}}return s}function Ct(e){var n,r,i,s=Z[e];if(s){for(n in s.bnd){t(s.bnd[n]).off(O+"."+s.cbNs);delete s.bnd[n]}r=s.linkCtx;i=r.tag||{};i.onDispose&&i.onDispose();delete r.view._.bnd[e];delete Z[e]}}function kt(e,r){if(!arguments.length){if(s){t(s).off(_,rt);s=n}e=b;S.removeViews();Tt(p.body.getElementsByTagName("*"))}else if(r){r=r.jquery?r:t(r);e===b?t.each(r,function(){var e;while((e=o(this,b))&&e.parent)e.parent.removeViews(e._.key,n,b);Tt(this.getElementsByTagName("*"))}):e===n&&Tt(r)}return r}function Lt(e,t){return kt(this,e,t)}function At(e){return function(t,n){var r,i=e.view.ctx;if(t){if(t.charAt(0)==="~"){if(t.slice(0,4)==="~tag"){if(t.charAt(4)==="."){r=t.slice(5).split(".");i=i.tag}else if(t.slice(4,6)==="s."){r=t.slice(6).split(".");i=i.tags[r.shift()]}if(r)return i?[i,r.join("."),n]:[]}t=t.slice(1).split(".");return[e.view._hlp(t.shift()),t.join("."),n]}if(t.charAt(0)==="#")return t==="#data"?[]:[e.view,t.replace(et,""),n]}}}function Ot(e){return e.type===E?e.checked:t(e).val()}function Mt(e){if(""+e===e){var t=e.split("[");e=N[t.shift()];while(e&&t.length)e=e.tmpls[t.shift().slice(0,-1)]}return e}if(!t)throw"requires jQuery";if(!t.views)throw"requires JsRender";if(t.link)return;var r="v1.0pre",i,s,o,u,a,f,l,c,h,p=e.document,d=t.views,v=d.sub,m=d.settings,g=v.extend,y=!1,b=!0,w=null,E="checkbox",S=d.View(n,"top"),x=t.isArray,T=t.isFunction,N=d.templates,C=t.observable,k=C.observe,L="data-link",A="data-jsv",O="propertyChange",M="arrayChange",_="change.jsv",D="onBeforeChange",P="onAfterChange",H="onAfterCreate",B='"></script>',j='<script type="jsv',F="script,["+A+"]",I=F+",["+L+"]",q={value:"val",input:"val",html:"html",text:"text"},R={from:{fromAttr:"value"},to:{toAttr:"value"}},U=t.cleanData,z=d.settings.delimiters,W=v.error,X=/<(?!script)(\w+)[>\s]/,V=p.createDocumentFragment(),$=p.querySelector,J={ol:1,ul:1,table:1,tbody:1,thead:1,tfoot:1,tr:1,colgroup:1,dl:1,select:1,optgroup:1},K=d.settings.wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],svg:[1,"<svg>","</svg>"],div:[1,"x<div>","</div>"]},Q={},G=1,Y={0:S},Z={},et=/^#(view\.?)?/,tt=/(^|(\/>)|(<\/\w+>)|>|)(\s*)_([#\/]\^?\d+)_`(\s*)(<\w+(?=[\s\/>]))?|\s*(?:(<\w+(?=[\s\/>]))|(<\/\w+>)(\s*)|(\/>)\s*)/g,nt=/(jsv)?(?:(#)|(\/)|(#\^)|(\/\^)|(\|))(\d+)([-+@\d]+)?/g;K.optgroup=K.option;K.tbody=K.tfoot=K.colgroup=K.caption=K.thead;K.th=K.td;v.onStoreItem=function(e,n,r){if(r&&e===N){r.link=ht;r.unlink=Lt;if(n){t.link[n]=function(){return ht.apply(r,arguments)};t.unlink[n]=function(){return Lt.apply(r,arguments)}}}};(d.settings.delimiters=function(){var e=z.apply(d,arguments);a=e[0];f=e[1];l=e[2];c=e[3];h=e[4];u=new RegExp("(?:^|\\s*)([\\w-]*)(\\"+h+")?(\\"+f+d.rTag+"\\"+l+")","g");return this})();i={refresh:function(e){var t=this,n=t.parent;t.tmpl=Mt(t.tmpl);if(n){ft(t,t.index,t.tmpl,n.views,t.data,e,b);ut(t)}return t},addViews:function(e,t,n){var r,i,s=this,o=t.length,u=s.views;if(!s._.useKey&&o&&(n=Mt(n||s.tmpl))){i=u.length+o;if(ft(s,e,n,u,t,s.ctx)!==y)for(r=e+o;r<i;r++)C(u[r]).setProperty("index",r)}return s},removeViews:function(e,r,i){function s(e){var r,s,o,a,f,l,h,p,d,v,m,g,y,w,E=0,S=c[e];if(S){i||(v=S.nodes());S.removeViews(n,n,b);S.data=n;r=S._.id;a=S._prv;f=S._nxt;o=S.parentElem;l=a===f;i||t(v).remove();if(S._elCnt){if(a){p=yt(a);h="";for(g=0,y=p.length;g<y;g++){m=p[g];if(m.id===r)break;if(!l){u=Y[m.id];if(m.open){if(!g&&!f){o.setAttribute(A,"|"+m.id+(o.getAttribute(A)||""));f=0}u._prv&&!f&&(h+="#"+u._.id);u._prv=f}else if(m.close){u._nxt&&!f&&(h+="/"+u._.id);u._nxt=f}}E+=m.id.length+1}o._dfr=h+(o._dfr||"");if(f){h=f&&f.getAttribute(A);h&&f.setAttribute(A,p.tokens.slice(0,E)+h.slice(h.indexOf("/"+r)+r.length+1))}else if(S._prev===0){h=o.getAttribute(A);(token=gt(h,"|"+r))?o.setAttribute(A,token):o.removeAttribute(A)}}else o._dfr=gt(o._dfr,"#"+r);f||(o._dfr=gt(o._dfr,"/"+r))}else try{o.removeChild(a);o.removeChild(f)}catch(x){}ut(S);for(s in S._.bnd)Ct(s,i);delete Y[r]}}var o,u,a,f=this,l=!f._.useKey,c=f.views;l&&(a=c.length);if(e===n)if(l){o=a;while(o--)s(o);f.views=[]}else{for(u in c)s(u);f.views={}}else{if(r===n)if(l)r=1;else{s(e);delete c[e]}if(l&&r){o=e+r;while(o-->e)s(o);c.splice(e,r);if(a=c.length)while(e<a)C(c[e]).setProperty("index",e++)}}return this},nodes:xt,contents:St,link:dt};g(d,{linkAttr:L,merge:{input:{from:{fromAttr:Ot},to:{toAttr:"value"}},textarea:R,select:R,optgroup:{from:{fromAttr:"label"},to:{toAttr:"label"}}}});m.debugMode&&(window._jsv={views:Y,bindings:Z});g(t,{view:o=function(e,r){var i,s,o,u=0,a=p.body,f=r===b;if(e&&e!==a&&S._.useKey>1){e=""+e===e?t(e)[0]:e.jquery?e[0]:e;if(e){if(f)return(i=$?e.querySelector(F):t(F,e)[0])&&(i=yt(i))&&Y[i[0].id]||n;while(e){if(s=yt(e)){o=s.length;while(o--){i=s[o];if(u<=0&&i.open){i=Y[i.id];return i&&r?i.get(r):i}u+=i.close?1:i.open?-1:0}}e=e.previousSibling||e.parentNode}}}return f?n:S},link:pt,unlink:kt,cleanData:function(e){if(e.length){Tt(e);U.call(t,e)}}});g(t.fn,{link:function(e,t,n,r,i,s,o){return pt(e,this,t,n,r,i,s,o)},unlink:function(e,t){return kt(e,this,t)},view:function(e){return o(this[0],e)}});g(S,{tmpl:{links:{}}});g(S,i);S._.onRender=lt})(window,window.jQuery);$.getObject("Pb",!0).JSTemplates=function(){function e(e){e.indexOf("#")===-1&&(e="#"+e);return e}function t(t){var n=e(t);typeof templates=="undefined"&&(window.templates={});if(templates.hasOwnProperty(n))return templates[n];if($(n).length){templates[n]||(templates[n]=$.templates(n));return templates[n]}return null}function n(e,n,r){var i=t(e);i&&i.link(n,r)}function r(e,n){var r=t(e);return r?r.render(n):null}function i(){if(typeof templates!="undefined"){var t;for(t in templates)if(templates.hasOwnProperty(t)){t=e(t);$.views.templates[t]=templates[t]}}}function s(){var e={getPicUrl:function(e){return Pb.Data.get("picUrl")+e},getFields:function(e){var t,n,r=[],i=0;for(t in e)if(e.hasOwnProperty(t)){n=e[t];r.push({key:t,value:n,index:i});i++}return r},truncateString:function(e,t){return e.length>t?e.substring(0,t-3)+"...":e}};$.views.helpers(e)}s();return{link:n,render:r,setupTemplates:i}}();!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;if(!r){r=n.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}i=e(r);t&&t.preventDefault();i.length||(i=n.hasClass("alert")?n:n.closest(".alert"));i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in");e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this));r.addClass("in");typeof t=="string"&&i[t].call(r)})};e.fn.alert.Constructor=n;e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery);!function(e){"use strict";function r(){e(t).parent().removeClass("open")}var t='[data-toggle="dropdown"]',n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),i=n.attr("data-target"),s,o;if(!i){i=n.attr("href");i=i&&i.replace(/.*(?=#[^\s]*$)/,"")}s=e(i);s.length||(s=n.parent());o=s.hasClass("open");r();!o&&s.toggleClass("open");return!1}};e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this));typeof t=="string"&&i[t].call(r)})};e.fn.dropdown.Constructor=n;e(function(){e("html").on("click.dropdown.data-api",r);e("body").on("click.dropdown.data-api",t,n.prototype.toggle)})}(window.jQuery);!function(e){"use strict";function n(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end);r.call(t)},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n);r.call(t)})}function r(e){this.$element.hide().trigger("hidden");i.call(this)}function i(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body);this.options.backdrop!="static"&&this.$backdrop.click(e.proxy(this.hide,this));i&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");i?this.$backdrop.one(e.support.transition.end,t):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(s,this)):s.call(this)}else t&&t()}function s(){this.$backdrop.remove();this.$backdrop=null}function o(){var t=this;this.isShown&&this.options.keyboard?e(document).on("keyup.dismiss.modal",function(e){e.which==27&&t.hide()}):this.isShown||e(document).off("keyup.dismiss.modal")}function u(){var t=this.$element.width(),n=this.$element.height(),r=e(window).width(),i=e(window).height(),s,o;n>i?s=20:s=Math.floor((i-n)/2);t>r?o=20:o=Math.floor((r-t)/2);this.$element.css("top",e(window).scrollTop()+s+"px").css("left",e(window).scrollLeft()+o+"px")}var t=function(t,n){this.options=n;this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this))};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this;if(this.isShown)return;e("body").addClass("modal-open");this.isShown=!0;this.$element.trigger("show");o.call(this);i.call(this,function(){var n=e.support.transition&&t.$element.hasClass("fade");!t.$element.parent().length&&t.$element.appendTo(document.body);t.$element.show();u.call(t);n&&t.$element[0].offsetWidth;t.$element.addClass("in");t.$element.on("shown",function(){u.call(t);e(window).on("resize.modal",e.proxy(u,t))});n?t.$element.one(e.support.transition.end,function(){t.$element.trigger("shown")}):t.$element.trigger("shown")})},hide:function(t){t&&t.preventDefault();if(!this.isShown)return;var i=this;this.isShown=!1;e("body").removeClass("modal-open");o.call(this);e(window).off("resize.modal");this.$element.trigger("hide").removeClass("in");e.support.transition&&this.$element.hasClass("fade")?n.call(this):r.call(this)}};e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s));typeof n=="string"?i[n]():s.show&&i.show()})};e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0};e.fn.modal.Constructor=t;e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({},i.data(),n.data());t.preventDefault();i.modal(s)})})}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t;this.$element=e(n);this.options=this.getOptions(r);this.enabled=!0;if(this.options.trigger!="manual"){i=this.options.trigger=="hover"?"mouseenter":"focus";s=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(i,this.options.selector,e.proxy(this.enter,this));this.$element.on(s,this.options.selector,e.proxy(this.leave,this))}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){t=e.extend({},e.fn[this.type].defaults,t,this.$element.data());t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay});return t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)n.show();else{n.hoverState="in";setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)}},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.hide)n.hide();else{n.hoverState="out";setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)}},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip();this.setContent();this.options.animation&&e.addClass("fade");s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;t=/in/.test(s);e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body);n=this.getPosition(t);r=e[0].offsetWidth;i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip();e.find(".tooltip-inner").html(this.getTitle());e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t);n.remove()})}var t=this,n=this.tip();n.removeClass("in");e.support.transition&&this.$tip.hasClass("fade")?r():n.remove()},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title);e=e.toString().replace(/(^\s*|\s*$)/,"");return e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}};e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var t=this.tip(),n=this.getTitle(),r=this.getContent();t.find(".popover-title")[e.type(n)=="object"?"append":"html"](n);t.find(".popover-content > *")[e.type(r)=="object"?"append":"html"](r);t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content);e=e.toString().replace(/(^\s*|\s*$)/,"");return e},tip:function(){this.$tip||(this.$tip=e(this.options.template));return this.$tip}});e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s));typeof n=="string"&&i[n]()})};e.fn.popover.Constructor=t;e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s;if(!r){r=t.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0];t.trigger({type:"show",relatedTarget:i});s=e(r);this.activate(t.parent("li"),n);this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");t.addClass("active");if(s){t[0].offsetWidth;t.addClass("in")}else t.removeClass("fade");t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active");r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o();i.removeClass("in")}};e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this));typeof n=="string"&&i[n]()})};e.fn.tab.Constructor=t;e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault();e(this).tab("show")})})}(window.jQuery);!function(e){e(function(){"use strict";e.support.transition=function(){var t=document.body||document.documentElement,n=t.style,r=n.transition!==undefined||n.WebkitTransition!==undefined||n.MozTransition!==undefined||n.MsTransition!==undefined||n.OTransition!==undefined;return r&&{end:function(){var t="TransitionEnd";e.browser.webkit?t="webkitTransitionEnd":e.browser.mozilla?t="transitionend":e.browser.msie&&parseInt(e.browser.version,10)>9?t="transitionend":e.browser.opera&&(t="oTransitionEnd");return t}()}}()})}(window.jQuery);(function(){var e={actionEventData:null,elementListener:null,init:function(){Pb.Data.add("actionEvents",[]);this.actionEventData=Pb.Data.get("actionEvents");$(document).on("ActionEventsDispatcher::ondomready",$.proxy(this.onDomReady,this));$(document).on("ActionEventsDispatcher::registerevent",$.proxy(this.registerEvent,this));$(document).on("ActionEventsDispatcher::bindevents",$.proxy(this.bindEvents,this))},onDomReady:function(){this.actionEventData=Pb.Data.get("actionEvents");this.elementListener=$("body")},bindEvents:function(){for(var e=0;e<this.actionEventData.length;e++){var t=this.actionEventData[e];$(this.elementListener).on(t.eventType,t.eventSelector,$.proxy(function(e){e.preventDefault();var t=this.findEvent($(e.currentTarget));if(t){var n=Pb.Data.Shared.getData(e.currentTarget),r=$.Event(t,{pbEventTarget:e.currentTarget,pbData:n});$(document).trigger(r)}},this))}},findEvent:function(e){for(var t=0;t<this.actionEventData.length;t++){var n=this.actionEventData[t],r=n.eventSelector.split(" "),i;$.isArray(r)?i=r[r.length-1]:i=n.eventSelector;if(i.indexOf(".")!==-1){var s=i.split(".")[1];if(e.hasClass(s))return n.event}else if(i.indexOf("#")!==-1){var o=i.split("#")[1];if(e.attr("id")===o)return n.event}}return null},registerEvent:function(e){typeof e.pbEvent=="object"&&this.actionEventData.push(e.pbEvent)}};e.init()})();Pb.InitEventQueue.addToDomReady(function(){$(document).trigger($.Event("ActionEventsDispatcher::ondomready"))},40);Pb.InitEventQueue.addToDomReady(function(){$(document).trigger($.Event("ActionEventsDispatcher::bindevents"))},51);(function(){function e(e){if(e.origin!=="http://b.photobucket.com")return;if(e.data){var t=e.data.split("p~b"),n,r,i={},s,o;for(r=0;r<t.length;r++){s=t[r].split(/\=(.+)/);i[s[0]]=s[1]}if(i.type==="Banner"||i.type==="NavBar"){i.hasOwnProperty("color")&&$(".bannerAd").css("background-color",i.color);if(i.hasOwnProperty("width")&&i.hasOwnProperty("height")){o=$(".bannerAdIframe");o.data("originalstyle")||o.data("originalstyle",o.attr("style"));o.width(parseInt(i.width,10)+"px").height(parseInt(i.height,10)+"px")}}else if(i.type==="Skin"){$("html").addClass("sponsored");$(document.body).addClass("sponsored");if($("div.homeContainer").length){$("div.homeContainer").removeClass("boxShadow");$("div.contentWrapper").addClass("boxShadow")}n=$("div.contentWrapper").offset().top;$(document.body).css("background-image","url('"+i.skin+"')").css("background-color",i.color);$(document).trigger("skinned.pbad");$(".sponsorSkinClick").attr("onclick","window.open('"+i.href+"')")}else if(i.type==="Billboard"){$(".billboardAd").removeClass("hide");$(".bannerAd").hide()}else i.type==="300x600"&&$(".mrecIframe").each(function(){var e=$(this);e.css("height","600px")});if($(document.body).hasClass("sponsored")){n=$("div.contentWrapper").offset().top;$(document.body).css("background-position","center "+n+"px")}}}window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent&&window.attachEvent("onmessage",e)})();$.getObject("Pb").Form=function(){function e(){var e=$(this),t=e.find("input[name=hash]");if(!t.length){t=$('<input type="hidden" value="" name="hash" />');e.append(t)}t.val($("#token").val());return!0}function t(t){t=$(t);t.on("submit",e)}return{addHash:t}}();$.getObject("Pb.Component.Element",!0).Message=function(){function u(){var e;$(".global.alert").alert();e=d($(".global.alert").data("alertclass"));$(".global.alert").delay(e).fadeOut("slow",function(){$(this).remove()})}function a(e){var t=[],n;if($.isArray(e)){$.each(e,function(e,r){n=p(r);t.push(n)});h(t)}else{n=p(e);h(n)}}function f(){a(s)}function l(){a(o)}function c(r,i){var s;switch(i.status){case e:s="error";break;case t:s="warning";break;case n:s="warning";break;default:s=""}$(r).closest(".control-group").addClass(s).find(".help-inline, .help-block").html(i.message+i.details)}function h(e){Pb.JSTemplates.link("#alertTemplate","#messageContainer",e);setTimeout(function(){$(".global.alert").alert()},200);e.displayTime>=0&&$(".global.alert").delay(e.displayTime).fadeOut("slow",function(){$(this).remove()})}function p(e){var n="success",r="thumbs-up",s=i,o;if(!e.status){n="error";r="warning-sign"}else if(e.status===t){n="info";r="flag";s=15e3}e.displayTime?s=e.displayTime:s=d(n);o={messageClass:n,messageIcon:r,message:e.message,details:e.details,displayTime:s};return o}function d(e){return e==="info"?15e3:i}function v(){$("form .help-inline, form .help-block").html("");$("form .error").removeClass("error");$(".global.alert").find(".close").click()}function m(e,t,n,r){if(typeof JSON!="undefined"){var i={status:e,message:t,details:n,memo:r},s=JSON.stringify(i);Pb.Utilities.cookie("pb_message",s,{expires:1})}}var e=0,t=1,n=2,r=3,i=5e3,s={status:e,message:"Hmmm. Something didn't click.  Want to give it another shot? Try again now.",details:""},o={status:r,message:"Success! That click paid off.",details:""};return{globalAlert:u,show:a,showDefaultErrorMessage:f,showDefaultSuccessMessage:l,showInlineMessage:c,addMessageToCookie:m,remove:v,STATUS_ERROR:e,STATUS_NOTICE:t,STATUS_WARNING:n,STATUS_SUCCESS:r,defaultErrorMessage:s}}();$.getObject("Pb.Modal",!0).ModalActionBase=function(){function e(){}var t={eventName:null,modalId:null,modalName:null,submitButtonId:null,submitMethod:"POST",submitUrl:null,hideOnFinish:!0,shownEvent:null,hideEvent:null,modalData:[],showProgress:!1,messageHandler:null,refreshAdsOnHide:!1,init:function(e){this.eventName=e.eventName;this.modalId=e.modalId;this.modalName=e.modalName;this.submitButtonId=e.submitButtonId;this.submitUrl=e.submitUrl;this.shownEvent=e.shownEvent;this.hideEvent=e.hideEvent;e.hideOnFinish&&(this.hideOnFinish=e.hideOnFinish);e.submitMethod&&(this.submitMethod=e.submitMethod);e.showProgress&&(this.showProgress=e.showProgress);e.messageHandler&&(this.messageHandler=e.messageHandler);e.refreshAdsOnHide&&(this.refreshAdsOnHide=e.refreshAdsOnHide);if(this.modalName!==null){this.eventName&&$(document).on(this.eventName,$.proxy(this.onShow,this));Pb.InitEventQueue.add($.proxy(this.bindModalEvents,this),Pb.InitEventQueue.LOW_PRIORITY)}},bindModalEvents:function(){var e=$(this.modalId);if(e.length){this.submitButtonId&&$(this.submitButtonId).closest("form").on("submit",$.proxy(this.onSubmit,this));$(this.modalId).on("hide",$.proxy(this.onHide,this))}},buildSubmitData:function(){return{}},onSubmit:function(e){e.preventDefault();if($(e.currentTarget).hasClass("disabled"))return;this.submit();var t=$(this.modalId),n=($(window).width()-t.width())/2;t.css("left",Math.floor(n)+"px")},submit:function(){var e=this.buildSubmitData();if(e){var t={type:this.submitMethod,url:this.submitUrl,data:e,success:$.proxy(this.onResponse,this),error:$.proxy(this.onAjaxError,this)};this.messageHandler&&(t.messageHandler=this.messageHandler);Pb.Ajax.ajax(t)}this.showProgress&&Pb.Modal.ModalProgressBar.addProgressIndicator(this.modalId)},handleResponse:function(e){if(e.status){this.onSuccess(e);this.hideOnFinish&&$(this.modalId).modal("hide")}else{Pb.Modal.ModalProgressBar.removeProgressIndicator(this.modalId);this.onFail(e)}},onResponse:function(e){if(this.showProgress){Pb.Modal.ModalProgressBar.updateProgressIndicator(this.modalId,100);setTimeout($.proxy(function(){this.handleResponse(e)},this),200)}else this.handleResponse(e)},onSuccess:function(e){},onFail:function(e){},onAjaxError:function(){Pb.Modal.ModalProgressBar.removeProgressIndicator(this.modalId);this.onFail()},onShow:function(e){Pb.Modal.ModalProgressBar.removeProgressIndicator(this.modalId);var t=$(this.modalId);t.modal("show");if(this.shownEvent){var n={type:this.shownEvent},r;for(r in this.modalData)this.modalData.hasOwnProperty(r)&&(n[r]=this.modalData[r]);$(document).trigger(n)}},onHide:function(){this.refreshAdsOnHide&&Pb.Component.Ad!==undefined&&Pb.Component.Ad.AdRefresh.reloadAds();if(this.hideEvent){var e=$.Event(this.hideEvent,this.modalData);$(document).trigger(e)}}};$.extend(e.prototype,t);return e}();$.getObject("Pb.Modal").ModalProgressBar=function(){function e(e){$(e).addClass("inProgressModal").find(".modal-body").after('<div class="progress progress-info progress-striped active"><div class="bar" style="width: 40%;"></div></div>')}function t(e,t){var n=$(e);n.hasClass("inProgressModal")&&n.find(".progress .bar").css("width",t+"%")}function n(e){var t=$(e);t.hasClass("inProgressModal")&&t.removeClass("inProgressModal").find(".progress").remove()}return{addProgressIndicator:e,updateProgressIndicator:t,removeProgressIndicator:n}}();$.getObject("Pb.Component.Element",!0).Modal=function(){function e(){e.superclass.constructor.call(this)}var t={templateLinked:!1,modalTemplateData:[],prepareDataForTemplate:function(e){return e},linkTemplate:function(e){var t=Pb.Data.get(this.modalName),n,r,i=t;e&&(i=$.extend(t,e));i=this.prepareDataForTemplate(i);if(!this.templateLinked){r=this.modalName+"Wrapper";n=$("<div />");n.attr("id",r);$(document.body).append(n);this.modalTemplateData=[i];Pb.JSTemplates.link("#modalTemplate","#"+r,this.modalTemplateData);this.templateLinked=!0}else $.observable(this.modalTemplateData).refresh(i)},updateHeader:function(e){$(this.modalId).find(".modal-header h2").html(e)},onShow:function(t){this.linkTemplate(t.modalData);t.headerTitle&&this.updateHeader(t.headerTitle);this.bindModalEvents();e.superclass.onShow.call(this,t)}};Pb.subclass(e,Pb.Modal.ModalActionBase,t);return e}();$.getObject("Pb.RulesEngine",!0).PromptUpdaterObject=function(){function n(){$(document).on("Pb.RulesEngine.PromptUpdater::onShown",$.proxy(this.onShown,this))}var e="prompt",t="/action/rulesEngine/update",r={init:function(e){this.name=e},onShown:function(n){var r={name:n.name,type:e},i={url:t,type:"POST",data:r,error:function(){}};n.success&&$.isFunction(n.success)&&(i.success=n.success);Pb.Ajax.ajax(i)}};$.extend(n.prototype,r);return n}();$.getObject("Pb",!0).PromptUpdater=new Pb.RulesEngine.PromptUpdaterObject;$.getObject("Pb",!0).Errors={ACCOUNT_OVER_SIZE_LIMIT:193};(function(){function e(e,t){return t.tabs[e].id===t.activeTab?!0:!1}function t(){return e(this.index,this.parent.parent.data)?"active":""}function n(){return this.index===0?!1:e(this.index,this.parent.parent.data)?!1:e(this.index-1,this.parent.parent.data)?!1:!0}function r(){$.views.helpers({getTabClass:t,showTabDivider:n})}Pb.InitEventQueue.add(r)})();$.getObject("Pb",!0).InputValidator=function(){function e(e){this.init(e)}$.extend(e.prototype,{regex:{username:/^[a-zA-Z0-9_][-a-zA-Z0-9_]+$/,password:/^[a-zA-Z1-9_-][a-zA-Z0-9_-]+$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i},messages:{required:"*",email:"Please enter a valid email address.",password:"Passwords must be at least 6 characters long. They can only contain the characters a-z, A-Z, 0-9, -, and _. Spaces are not allowed.",username:"Username must be 3-50 characters long. It can contain a-z, A-Z, 0-9, -, _ and must begin with either a letter, number or underscore. No spaces, please.",passwordMatch:"Passwords must match."},init:function(e){},validateRequired:function(e,t,n){$.isFunction(t)||(t=function(){return!1});$.each(e,$.proxy(function(e,r){r===undefined&&t(r,this,n);r.attr("type")==="radio"||r.attr("type")==="checkbox"?r.filter(":checked").length===0&&t(r,this,n):r.val().length===0&&t(r,this,n)},this))},validUsername:function(e){return e.length===0?!1:e.length<3||e.length>50||!this.regex.username.test(e)?!1:!0},validPassword:function(e){return e.length===0?!1:e.length<6||e.length>50||!this.regex.password.test(e)?!1:!0},validEmail:function(e){return e.length===0?!1:this.regex.email.test(e)?!0:!1},stringEquals:function(e,t){return e===t?!0:!1}});return e}();$.getObject("Pb.Component.Common.InsetBox",!0).InsetBox=function(){function e(){this.init()}var t={init:function(){$(document).on("click",".insetBoxAction",$.proxy(this.toggleShow,this))},toggleShow:function(e){var t=$(e.currentTarget).data("action"),n=$(e.currentTarget).data("target"),r=$(n).find(".contentText"),i=r.data("height");t==="expand"&&$(n).addClass("expanded");r.animate({height:i},500,function(){t!=="expand"&&$(n).removeClass("expanded")})}};$.extend(e.prototype,t);return e}();Pb.InitEventQueue.addToDomReady(function(){var e=new Pb.Component.Common.InsetBox.InsetBox});(function(){function e(){if(Pb.Data.get("trackUnsupportedBrowser")&&$.browser.msie){var e=parseInt($.browser.version,10),t=$(document.body).attr("id").replace(/page$/,"");if(e<=7){Pb.Track.trn(t,(Pb.Data.get("isLoggedIn")?"loggedin":"loggedout")+" ie"+e+"user pageview");Pb.Data.get("showUnsupportedBrowserMessage")&&Pb.Component.Element.Message.show({status:Pb.Component.Element.Message.STATUS_NOTICE,message:"Photobucket does not support Internet Explorer "+e+'. Please upgrade your browser to a newer version of Internet Explorer, or switch to another browser (i.e. Chrome, Firefox, etc.). For more information, please <a href="http://photobucket.zendesk.com/entries/21105791-supported-browsers-and-operating-systems" target="_blank">click here.</a>',displayTime:1e4})}else if(document.documentMode&&(document.documentMode<=7||e>document.documentMode)){Pb.Track.trn(t,(Pb.Data.get("isLoggedIn")?"loggedin":"loggedout")+" ie"+document.documentMode+"compatmodeuser pageview");Pb.Data.get("showUnsupportedBrowserMessage")&&Pb.Component.Element.Message.show({status:Pb.Component.Element.Message.STATUS_NOTICE,message:'Your Internet Explorer browser is running in compatibility mode which will cause display problems on the site. To learn how to turn this mode off, please <a href="http://photobucket.zendesk.com/entries/21886602-ie-8-9-in-compatibility-mode" target="_blank">click here.</a>',displayTime:1e4})}}}Pb.InitEventQueue.add(e)})();$.getObject("Pb.Component",!0).Debug=function(){function e(e){this.init(e)}var t={data:[],startTime:0,totalTime:0,linked:!1,init:function(e){this.add(e)},link:function(){Pb.JSTemplates.link("#stopwatchesTemplate","#stopwatches",this.data);Pb.JSTemplates.link("#debugMessagesTemplate","#debug-messages",this.data);var e=this;$.views.helpers({truncate:function(e){return e==null?"":e.substr(0,27)+(e.length>27?"...":"")},barLeft:function(t){return Math.round((t.start-e.startTime)/e.totalTime*1024)},barWidth:function(t){return t.marker?10:Math.max(Math.round(t.elapsed/e.totalTime*1024),1)},marker:function(t){return(t.start-e.startTime).toFixed(3)},round:function(e){return e.toFixed(3)},indent:function(e){var t=e.level;return(new Array(isNaN(t)?1:++t)).join("&nbsp;")},messageStyle:function(e){return e.indexOf("ERR")!==-1||e.indexOf("ERROR")!==-1?"error":e.indexOf("WARN")!==-1?"warn":""}});this.linked=!0},add:function(e){this.linked||this.link();this.startTime=e.stopwatch.start;this.totalTime=e.stopwatch.elapsed;$.observable(this.data).insert(this.data.length,e)}};e.prototype=t;return e}();$.getObject("Pb.Component.Element",!0).Lightbox=function(){function r(t){$.extend(e,t);n=$("#"+e.lightboxId);e.data!==undefined&&$.each(e.data,function(e,t){n.data(e,t)});n.height(e.initialHeight).css("position",e.position).css("max-height",e.maxHeight);i();return this}function i(){n.on("show",s)}function s(t){if(e.contentUrl.length>0){u();e.cache||n.find(".modal-body").empty();var r={url:e.contentUrl,data:e.ajaxData,cache:!e.cache,success:o};$.ajax(r)}}function o(e){n.find(".modal-body").html(e);f()}function u(){n.find(".progress").show()}function a(e){n.find(".progress .bar").css("width",e)}function f(){n.find(".progress").hide()}function l(e,r,i){var s=n.find(".alert");s.attr("class","alert");s.addClass(t[e]);s.find(".alert-heading").text(r);s.find(".alert-body").text(i);s.alert()}function c(){var e=n.find(".alert");e.hide()}var e={lightboxId:"pb-lightbox",cache:!0,contentUrl:"",ajaxData:{},initialHeight:"auto",position:"fixed",maxHeight:500},t={error:"alert-error",warning:"alert-block",success:"alert-success",info:"alert-info"},n=null;return{init:r,showProgress:u,updateProgress:a,hideProgress:f,alertTypes:t,showAlertMessage:l,hideAlertMessage:c}}();$.getObject("Pb",!0).TrackObject=function(){function e(){this.init()}var t={trackUrl:"/action/track/log",trackEvent:"Pb::track",trackObj:{},init:function(){Pb.Data.add("trackEvent",this.trackEvent);$(document).on(this.trackEvent,$.proxy(function(e){this.trn(e.pbPage,this.sanitizeTrackString(e.pbTrackString))},this))},tr:function(e){if(typeof e!="string")return!0;var t=e.split(","),n,r;for(n=0;n<t.length;n++){e=this.sanitizeTrackString(t[n]);r=this.trackObj[e];r=typeof r=="number"?r+1:1;this.trackObj[e]=r;Pb.DataCookie.set("pbtr",this.trackObj)}return!0},trl:function(e){if(typeof e!="string")return;var t=e.split(","),n,r,i;for(n=0;n<t.length;n++){e=this.sanitizeTrackString(t[n]);i=this.trackObj.legacy;typeof i=="undefined"&&(i=this.trackObj.legacy={});r=i[e];r=typeof r=="number"?r+1:1;i[e]=r;Pb.DataCookie.set("pbtr",this.trackObj)}},trn:function(e,t){var n={page:e,key:this.sanitizeTrackString(t)};this.doTrackNow(n)},trf:function(e){var t=Pb.Data.get("featureTrackingKey");this.tr(e);t&&this.tr(e+"_"+t)},sanitizeTrackString:function(e){e=e.toLowerCase().substring(0,128).replace(/[ -]/g,"_");e=e.replace(/['"\/|\\!\?\.,]/g,"");e=e.replace(/[&]/g,"and");return e},doTrackNow:function(e){var t={url:this.trackUrl,data:e,success:function(e){},messageHandler:function(){return!0}};Pb.Ajax.ajax(t)}};e.prototype=t;return e}();$.getObject("Pb",!0).Track=new Pb.TrackObject;$.getObject("Pb",!0).PageTracker=function(){function e(){typeof _gaq!="undefined"&&_gaq.push(["_trackPageview"])}function t(){var e=new Image(1,1),t;e.onerror=e.onload=function(){e.onerror=e.onload=null};t=["//secure-us.imrworldwide.com/cgi-bin/m?ci=us-904896h&cg=0&cc=1&si=",escape(location.href),"&rp=",escape(document.referrer),"&ts=compact&c0=usergen,1&rnd=",(new Date).getTime()].join("");e.src=t}function n(e){Pb.Component.Tracking.Comscore.trackPage(e)}function r(){Pb.Data.get("isLoggedIn")&&Pb.Track.tr("logged_in_page");Pb.Track.tr("page_view");Pb.Track.trl("page_view")}function i(i){n(i);e();t();r()}function s(i){n(i);e();t();r()}return{trackPageView:i,trackContentRefreshPageView:s}}();$.getObject("Pb.Component.Tracking",!0).Comscore=function(){function e(e){if(typeof udm_!="function")return;var t="http"+(document.location.href.charAt(4)=="s"?"s://sb":"://b")+".scorecardresearch.com/b?",n=$.param(e);udm_(t+n)}function t(t){var n=Pb.Data.get("comscoreParams");t&&(n=$.extend(n,t));n.pb_action&&(n.pb_action=n.pb_pg+":"+n.pb_action);e(n)}function n(t){if(!t)return;var n=Pb.Data.get("comscoreParams"),r={};if(!n)return;r.c1=n.c1;r.c2=n.c2;r.ns_site=n.ns_site;r.pb_site=n.pb_site;r.ns_type="hidden";r.pb_action=n.pb_pg+":"+t;e(r)}return{trackPage:t,trackAction:n}}();$.getObject("Pb.Component.Ad",!0).AdDebugger=function(){function t(){$(".ad[data-debug]").each(function(e,t){params=$(t).attr("data-debug");params=params.split(",");$(t).css("position")!=="fixed"&&$(t).css("position","relative");content=params.join("</div><div>");$(t).append('<div class="adDebug"><div>'+content+"</div></div>")});typeof _comscore!="undefined"&&e.push("comscore");typeof LOTCC!="undefined"&&e.push("lotame");if(e.length>0){$("#footer").css("position","relative");content=e.join("</div><div>");$("#footer").append('<div class="adDebug"><div>Beacons:</div><div>'+content+"</div></div>")}}var e=[];return{display:t}}();$.getObject("Pb.Component.Ad",!0).AdRefresh=function(){function h(t){var n=(new Date).getTime();a++;typeof t=="object"&&(t=undefined);if(a%3===0||n-c>4e3){a=0;c=n;p(s,s,t);p(i,i,t);p(e,e,t)}}function p(e,t,n,r){e==="pixlrSkin"?d(e,t,n,r):v(e,t,n)}function d(e,t,n,r){var i=$("."+e),s=$(i).attr("data-debug");s=$.parseJSON(s);var o={};if(typeof s=="undefined"||s===null)return;s&&$.map(s,function(e,t){var n=e.split("=");return n[0]==="area"?o.area=n[1]:n[0]==="username"?o.username=n[1]:n[0]==="ownername"?o.ownername=n[1]:n[0]==="search_kw"?o.search_kw=n[1]:n[0]==="ptype"?o.ptype=n[1]:null});if(r)for(var u in r)r.hasOwnProperty(u)&&(o[u]=r[u]);var a="adType="+e+"&adArea="+o.area+"&username="+o.username+"&ownername="+o.ownername+"&searchKeyword="+o.search_kw+"&ptype="+o.ptype;t!==undefined&&(a+="&target="+t);arguments.length===3&&n!==undefined&&(a+="&"+n);var f="/ad/?"+a,l;if(e==="pixlrSkin"){l=$("<iframe/>");l.addClass("adRefreshFrame");l.addClass(e+"Frame");l.addClass("hide");l.attr("id",t+"Frame");l.attr("src",f);$("body").append(l)}else{l=$("."+t).find("iframe:first");l.attr("src",f)}}function v(e,t,n){var r=$("."+e),i="";arguments.length===3&&n!==undefined&&(i=n);switch(t){case"bannerAd2":case"mrec2":m(r,t,i);break;case"bannerAd":r.find(".bannerAdIframe").height("90").width("728px");g(t,i);break;default:g(t,i)}}function m(e,t,n){var r,i,s=e.find("iframe");if(s.length===0)return;r=s.attr("src");t==="bannerAd2"?r=r.replace(/size%3D([A-Za-z0-9_%\+]+?)%2F/g,"size%3DBANNER%2F"):t==="mrec2"&&(r=r.replace(/size%3D([A-Za-z0-9_%\+]+?)%2F/g,"size%3DRECTANGLE%2F"));i=b(r,n,s.data("type"),s.data("width"));var o=$("<iframe/>");o.attr("frameborder","no");o.attr("scrolling","no");o.attr("src",i);o.attr("marginheight",0);o.attr("marginwidth",0);s.data("originalstyle")?o.attr("style",s.data("originalstyle")):o.attr("style",s.attr("style"));s.data("type")&&o.data("type",s.data("type"));s.data("width")&&o.data("width",s.data("width"));$("."+t).empty();$("."+t).attr("data-debug",$(e).attr("data-debug"));$("."+t).append(o)}function g(e,t){var n,r,s=$("."+e+":not(.mrec2):not(.bannerAd2)").find("iframe"),o=s.clone();if(s.length){n=s.attr("src");r=b(n,t,s.data("type"),s.data("width"));e===i&&o.attr("style","width: 300px; height: 250px;");o.attr("src",r);var u=$("."+e).attr("data-debug");$("."+e).attr("data-debug",y(u,t));s.replaceWith(o)}}function y(e,t){if(e){e=$.parseJSON(e);var n=t.split("="),r=!1,i=0;while(!r&&i<e.length){var s=e[i].split("=");if(s[0]===n[0]){r=!0;e[i]=t}else s[0]==="likes"&&(e[i]="likes=n");i++}}var o=JSON.stringify(e);return JSON.stringify(e)}function b(e,t,n,r){var i,s=(new Date).getTime();s-l>1e3&&(f=Math.floor(Math.random()*9999888888+111111));l=s;i=Math.floor(Math.random()*999999+1);e=e.replace(/viewid%3D(\d+?)%2F/g,"viewid%3D"+f+"%2F");e=e.replace(/random%3D(\d+?)%2F/g,"random%3D"+i+"%2F");e=e.replace(/viewid=(\d+?)/g,"viewid="+f+"/");e=e.replace(/random=(\d+?)/g,"random="+i+"/");if(t)if(t.indexOf("pos=")!==-1){var o=t.replace("pos=","");e=e.replace(/pos%3D([A-Za-z0-9_%\+]+?)%2F/g,"pos%3D"+o+"%2F")}else if(t.indexOf("likes=")!==-1){var u=t.replace("likes=","");e=e.replace(/likes%3D([A-Za-z0-9_%\+]+?)%2F/g,"likes%3D"+u+"%2F")}else if(t.indexOf("skinid=")!==-1)e=e.replace(/skinid=([A-Za-z0-9_%\+]+?)\//g,t+"/");else if(t.indexOf("area=")!==-1){var a=t.replace("area=","");e=e.replace(/area%3D([A-Za-z0-9_%\+]+?)%2F/g,"area%3D"+escape(a)+"%2F");e=e.replace(/inv_code=([A-Za-z0-9_%\+]+?)&/g,"inv_code="+a+"&")}if(typeof GlamIsAvailable=="function"){var c,h,p,d;c=GlamIsAvailable(n)?"1":"";var v=GlamGetSlotObject(n);if(v){h=v.adid?v.adid:"";p=v.sz?v.sz:"";d=v.reqid?v.reqid:""}else{h="";p="";d=""}e=e.replace(/(\/|%2F)glam[0-9]+(=|%3D)[^\/]/g,escape("/glam"+r+"="+c));e=e.replace(/(\/|%2F)gadadid(=|%3D)[^\/]*/g,escape("/gadadid="+h));e=e.replace(/(\/|%2F)gadsz(=|%3D)[^\/]*/g,escape("/gadsz="+p));e=e.replace(/(\/|%2F)gadreqid(=|%3D)[^\/]*/g,escape("/gadreqid="+d))}T(n);return e}function w(e,t){try{var n=$("body").contents().find("."+e),r=$("."+t,parent.window.document);$("#content",parent.window.document).css("background","inherit");$(r).html($(n).contents());$(r).attr("data-debug",$(n).attr("data-debug"));$(parent.window.document).find("#"+t+"Frame").remove()}catch(i){$(parent.window.document).find("#"+t+"Frame").remove()}}function E(e,t){var n=$("body").contents().find("."+e),r=$("."+t,parent.window.document);$(r).attr("data-debug",$(n).attr("data-debug"))}function S(){$(document).on("Pb.Component.Detail.Detail::current_media_update Pb.Component.Filmstrip.Filmstrip::filmstrip_arrow_click",h);$(document).on("Pb.Component.Common.Likes::like_click",x)}function x(e){h("likes=y")}function T(e){typeof _gaq!="undefined"&&_gaq.push(["_trackEvent","Ads","Refreshes",e,null,!0])}var e="bannerAd",t="ad200x70",n="ad300x250",r="promounit",i="mrec",s="skyscraperAd",o="billboardAd",u="skinAd",a=0,f=null,l=(new Date).getTime(),c=(new Date).getTime();return{AD_BANNER:e,AD_200x70:t,AD_300x250:n,AD_970x250:r,AD_MREC:i,AD_SKYSCRAPER:s,AD_SKIN:u,AD_BILLBOARD:o,refresh:p,replace:w,updateDebug:E,initMediaDetail:S,reloadAds:h}}();(function(){function e(){$(".dropdown-menu").find("form").click(function(e){e.stopPropagation()});$("#login-dropdown > .dropdown-toggle").dropdown();$("#login-dropdown > .dropdown-toggle").on("click.dropdown.data-api",function(e){var t=$(this).parent("li"),n=t.hasClass("open");n&&setTimeout(function(){var e=$(t).find("input[type!=hidden]:first").first();e.length&&e[0].focus()},50)})}function t(){var e=".siteNav li.dropdown",t="ul.dropdown-menu",n=150,r=150,i=$(e);i.hoverIntent({timeout:r,interval:n,over:function(){$(t,$(this)).show()},out:function(){$(t,$(this)).hide()}})}function n(){var e="ul.dropdown-menu";$(".dropdown").bind("touchend",function(t){t.stopPropagation();if(!$(e,$(this)).hasClass("touchActivated")){t.preventDefault();$(e).hide().removeClass("touchActivated");$(e,$(this)).show().addClass("touchActivated")}else{var n=document.elementFromPoint(t.pageX,t.pageY);window.location.replace(n)}});$(document).bind("touchend",function(t){$(".touchActivated").length&&$(e).hide().removeClass("touchActivated")})}Pb.InitEventQueue.addToDomReady(e);Pb.InitEventQueue.addToDomReady(t);Pb.InitEventQueue.addToDomReady(n)})();(function(){function e(e){if(typeof Zenbox!="undefined"){var t=Pb.Data.get("loggedInUser"),n="",r="";if(t){n=t.username;r=t.email}Zenbox.init({dropboxID:e.dropboxID,url:e.url,hide_tab:!0,requester_name:n,requester_email:r});Zenbox.show()}}function t(t){var n={dropboxID:20048291,url:"https://photobucket.zendesk.com"};typeof Zenbox=="undefined"?$.getScript("https://assets.zendesk.com/external/zenbox/v2.4/zenbox.js",function(){e(n)}):e(n);t.preventDefault()}function n(t){var n={dropboxID:"20092961",url:"https://photobucket.zendesk.com"};typeof Zenbox=="undefined"?$.getScript("https://assets.zendesk.com/external/zenbox/v2.4/zenbox.js",function(){e(n)}):e(n);t.preventDefault()}function r(){$("a.helpQuestionLink").on("click",t);$("a.helpFeedbackLink").on("click",n)}Pb.InitEventQueue.add(r)})();$.getObject("Pb.Component.Common.ProfilePic",!0).ProfilePic=function(){function e(e){e&&$("img.ownerAvatar:not(.largeProfile)").attr("src",e)}function t(e){e&&$("img.ownerAvatar.largeProfile").attr("src",e)}return{update:e,updateLarge:t}}();(function(){function e(){function u(){var r=e.find("#q"),i=t.val(),s=r.val();if(s!=""){var o=n.val(),u=i+o+"/"+encodeURIComponent(s);document.location=u}return!1}var e=$("#searchbox"),t=e.find("#searchUrl"),n=e.find("#type"),r=e.find("#searchTypes"),i=e.find("#query"),s=e.find("#searchTrigger"),o=r.find("li").each(function(){$(this).click(function(){var e=r.find(".active");e.removeClass("active");$(this).addClass("active");n.val($(this).attr("name"))})});e.on("submit",u);s.on("click",u)}Pb.InitEventQueue.addToDomReady(e,10)})();(function(){function e(e){this.init(e);this.bindAction()}var t={init:function(e){$(document).trigger($.Event("ActionEventsDispatcher::registerevent",{pbEvent:{eventSelector:".editMediaAction",eventType:"click",event:"EditLink::Edit"}}))},bindAction:function(){var e=$(document);e.on("EditLink::Edit",$.proxy(function(e){Pb.Track.tr("edit_modal_edit_click");var t=e.pbData;document.location="/editor?image="+escape(t.fullsizeUrl)+"&detailUrl="+t.linkUrl},this))}};$.extend(e.prototype,t);var n=new e})();$.getObject("Pb.Component.Library.MediaSelector",!0).MediaSelectorModal=function(){function e(e){this.init(e)}var t=[];$.extend(e.prototype,{MIN_IMAGE_DIMENSIONS:{height:200,width:200},data:{url:"",path:""},subdomain:null,mode:"singleselect",warningShown:!1,showingUploadModal:!1,selectedItems:[],init:function(e){this.subdomain=e.subdomain;this.initEvents()},initEvents:function(){Pb.InitEventQueue.addToDomReady($.proxy(function(){$(document).on("click",".showMediaSelector",function(e){var t={pbEventTarget:e.currentTarget,mode:"singleselect",eventselector:null,hovertext:"Select",modaltitle:e.modaltitle,bodypretext:e.bodypretext,showdropdown:!1,enforcedimensions:!1,closeonselect:!0,tracking:null};$.extend(t,$(e.currentTarget).data());var n=$.Event("Pb.Component.Library.MediaSelector::show",t);$(document).trigger(n)})},this),50);$("#mediaSelectorModal").on("click",".showUploadModal",$.proxy(this.showUploadModal,this));$(document).on("Pb.Component.Library.MediaSelector::show",$.proxy(this.onShow,this));$(document).on("click",".close",$.proxy(this.onHide,this));$(document).on("click","#cancelBtn",$.proxy(this.onHide,this));$(".mediaSelectorContainer").on("show",'a[data-toggle="tab"]',$.proxy(this.fetchTabContent,this));$(document).on("Pb.Component.Upload.UploadModal::uploadComplete",$.proxy(this.addFromUpload,this));$(".mediaSelectorContainer").on("hide",$.proxy(function(){this.selectedItems=[];if(typeof StoryGraphic!="undefined"){var e=!1;$.each(StoryGraphic.collection.media,function(t,n){if(n&&n.type!=="text"){e=!0;return}});var n=parseInt(Pb.Data.get("userMediaCount"),10);n>0&&!this.showingUploadModal&&!e&&t.length===0&&Pb.Component.Element.Message.show({message:"A story requires at least 1 photo or video.",status:Pb.Component.Element.Message.STATUS_ERROR})}$(document).trigger("MediaSelectorModal::hide");t=[]},this))},onShow:function(e){$("#editorpage .avpw_flash").hide();if($(e.pbEventTarget).hasClass("disabled")||$(e.pbEventTarget).hasClass("showLoginModal"))return!1;$(".bodypretext").text(e.bodypretext);$("#mediaSelectorModal").on("click",".thumbnailLink.album, .breadcrumbs a",Pb.Component.Library.MediaSelector.Tabs.invokeTab);$("#mediaSelectorModal").on("click",".emptyTab",function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();$("#selectorTabs #albumTab").empty();$('#selectorTabs li a[href="#albumTab"]').click()});if(e.mode==="multiselect"){this.showingUploadModal=!1;if(parseInt(Pb.Data.get("userMediaCount"),10)<=0){$(".mediaSelectorContainer").find("#uploadBtn").click();return!1}this.initMultiSelectModal(e)}else e.closeonselect&&$("#mediaSelectorModal").on("click",".thumbnailLink.media, .thumbnailOverlay",function(){$("#mediaSelectorModal").modal("hide")});if(e.mode==="singleselect"){$(".mediaSelectorContainer").find(".selectPanel").hide();$(".mediaSelectorContainer").find("#mediaSelectBtn").hide();$(".mediaSelectorContainer").find("#uploadBtn").hide();$("#mediaSelectorModal").off("click",".thumbnailLink.media")}e.modaltitle&&$(".mediaSelectorContainer").find(".modal-header .title").html(e.modaltitle);e.showdropdown?$(".mediaSelectorContainer").find(".modal-header #addFromOptions").removeClass("hide"):$(".mediaSelectorContainer").find(".modal-header #addFromOptions").addClass("hide");Pb.Component.Library.MediaSelector.Tabs.setEventSelector(e.eventselector);Pb.Component.Library.MediaSelector.Tabs.setHoverText(e.hovertext);Pb.Component.Library.MediaSelector.Tabs.updateThumbs();e.filter&&(this.data.filter=e.filter);var t=$("#selectorTabs .tabArea .active > a");this.data.path="";e.defaultAlbum&&(this.data.path=e.defaultAlbum);this.sendRequest(t.attr("href"));e.tracking&&Pb.Track.tr(e.tracking);$("#mediaSelectorModal").modal("show")},onHide:function(){$("#editorpage .avpw_flash").show()},initMultiSelectModal:function(e){this.mode="multiselect";$(".mediaSelectorContainer").find(".selectPanel").show();$(".mediaSelectorContainer").find("#mediaSelectBtn").show();$(".mediaSelectorContainer").find(".uploadContainer").show();$(".mediaSelectorContainer").find(".patentPending").show();Pb.JSTemplates.link("#mediaSelectorTrayItemTemplate",".selectPanel",this.selectedItems);this.showEmptyTray();this.addSelectedHover();$("#mediaSelectorModal").on("click",".thumbnailLink.media",{enforcedimensions:e.enforcedimensions},$.proxy(this.addToTray,this));$("#mediaSelectorModal").on("click",".selectedThumbnail",$.proxy(this.removeFromTray,this));$("#mediaSelectorModal").on("click","#mediaSelectBtn",$.proxy(this.addMedia,this))},addFromUpload:function(e){t=e.media;this.addMedia(e);Pb.Component.Element.Message.showDefaultSuccessMessage()},addMedia:function(e){typeof StoryGraphic!="undefined"&&t.length&&Pb.Ajax.ajax({url:"/action/story/add?t="+(new Date).getTime(),data:{mode:"media",destination:Pb.Data.get(Pb.Data.Shared.STORY).fullsizeUrl,sourceData:t,doRedirect:"false"},messageHandler:function(){return!0},success:function(e){if(e.status===1&&e.data.storyMedias.length>0){StoryGraphic.addFromModal(e.data.storyMedias);var t=Pb.Data.Shared.get(Pb.Data.Shared.STORY);t.public=e.data.storyPrivacy;Pb.Data.Shared.put(Pb.Data.Shared.STORY,t);$(document).trigger($.Event("Pb.Component.Common.Privacy::privacy_changed",{privacy:t.public}))}e.messages&&$.each(e.messages,function(){Pb.Component.Element.Message.show(this)})}});$("#mediaSelectorModal").modal("hide")},fetchTabContent:function(e){var t=e.target,n=e.relatedTarget,r=this.stripTrailingSlash(decodeURI($(t).data("url"))),i=this.stripTrailingSlash($(t.hash).data("url"));r===undefined&&(this.data.path="");$(n.hash).hide();if(r===undefined||r!==i||$(t.hash).is(":empty")){this.data.url=r;this.sendRequest(t.hash)}else $(t.hash).show()},sendRequest:function(e){this.showProgress();var t=e==="#mediaSelectorTab"?"/component/Library-MediaSelector-MediaTab":"/component/Library-MediaSelector-AlbumsTab";$.ajax({url:t,data:this.data,type:"get",success:$.proxy(function(t){this.updateProgress("100%");setTimeout($.proxy(function(){this.updateModalUI(t,e)},this),250)},this)})},updateModalUI:function(e,t){$(".selectorTabs "+t).replaceWith(e);this.mode==="multiselect"&&this.hideFromList();$('#selectorTabs li a[href="#mediaSelectorTab"]').text("Your Photos & Videos ("+Pb.Data.Shared.get(Pb.Data.Shared.MEDIA_SELECTOR_ALBUM).mediaCount+")");$('#selectorTabs li a[href="#albumSelectorTab"]').text("Albums ("+Pb.Data.Shared.get(Pb.Data.Shared.MEDIA_SELECTOR_ALBUM).albumCount+")");var n=Pb.Data.Shared.get(Pb.Data.Shared.MEDIA_SELECTOR_ALBUM).location,r=Pb.Data.Shared.get(Pb.Data.Shared.MEDIA_SELECTOR_ALBUM).url,i=n.split("/"),s;$("#mediaSelectorModal .breadcrumbs").empty();if(i[0]!==""){$("#mediaSelectorModal .breadcrumbs").append("<a href='"+r.split("/"+encodeURI(n))[0]+"'>Library</a>");$.each(i,function(e,t){s=r.split("/").slice(0,-1).join("/");e===i.length-1?$("#mediaSelectorModal .breadcrumbs").append(" / "+t):$("#mediaSelectorModal .breadcrumbs").append(" / <a href='"+s+"'>"+t+"</a>")})}$("#mediaSelectorModal").find(".progress").hide()},stripTrailingSlash:function(e){return e===undefined?e:e.substr(-1)==="/"?e.substr(0,e.length-1):e},showProgress:function(){this.updateProgress("40%");$("#mediaSelectorModal").find(".progress").show()},updateProgress:function(e){$("#mediaSelectorModal").find(".progress .bar").css("width",e)},addToTray:function(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();var t=$(e.currentTarget).find("img");e.data.enforcedimensions?this.checkDimensions(t):this.moveToTray(t)},moveToTray:function(e){if($("#mediaSelectorModal .selectedThumb").length===0){$("#mediaSelectorModal").find(".selectPanel .dragNote").remove();$("#mediaSelectorModal").find("#mediaSelectBtn").removeClass("disabled").removeAttr("disabled")}var n=e.parents(".thumbnail").attr("id"),r=e.attr("src");e.parents(".thumbnail").addClass("hide");var i=e.parents(".thumbnail").data("pbdkey"),s,o=Pb.Data.Shared.get(i);$.each(o,function(e,t){if(t.id===n){s=t;return}});var u={selectedThumbUrl:r,selectedId:n,mediaUrl:s.linkUrl,mediaType:s.mediaType};t.push(u.mediaUrl);if(this.warningShown===!1&&Pb.Data.Shared.get(Pb.Data.Shared.STORY)!==null&&Pb.Data.Shared.get(Pb.Data.Shared.STORY).public&&!Pb.Data.Shared.get(Pb.Data.Shared.MEDIA_SELECTOR_ALBUM).isPublic){Pb.Component.Element.Message.show({status:1,message:"You are about to add a private photo or video to a public Story."});this.warningShown=!0}$.observable(this.selectedItems).insert(this.selectedItems.length,u);(this.selectedItems.length+1)%5===0&&$("#mediaSelectorModal .tab-content").trigger("scroll")},checkDimensions:function(e){if(e.data("fetching"))return;e.addClass("fade").removeClass("in");e.data("fetching",!0);var t=e.parents(".thumbnail").data("pbdkey"),n=e.parents(".thumbnail").attr("id"),r,i=Pb.Data.Shared.get(t);$.each(i,function(e,t){if(t.id===n){r=t;return}});var s=new Pb.Path.PBPath(r.rawpath),o=Pb.Media.MediaIdentifierFactory.getIdentifier(s),u={type:"GET",cache:!0,url:"/api/user/"+s.ownername+"/media/"+o+"/dimensions",success:$.proxy(function(t){if(t.data&&t.data.height&&t.data.width)if(this.MIN_IMAGE_DIMENSIONS.height>t.data.height||this.MIN_IMAGE_DIMENSIONS.width>t.data.width){var n={status:0,message:"This photo is smaller than the "+this.MIN_IMAGE_DIMENSIONS.width+"x"+this.MIN_IMAGE_DIMENSIONS.height+" minimum size requirement for Stories.  Try selecting a larger photo.",details:""};Pb.Component.Element.Message.show(n);e.removeData("fetching");e.addClass("in");return}this.moveToTray(e);e.removeData("fetching");e.addClass("in")},this),error:function(){Pb.Component.Element.Message.showDefaultErrorMessage();e.removeData("fetching");e.addClass("in")}};Pb.Ajax.ajax(u)},removeFromTray:function(e){var n=$(e.currentTarget).data("id"),r;$("#mediaSelectorModal").find(".thumbnail[id='"+n+"']").removeClass("hide");for(var i=0;i<this.selectedItems.length;i++)if(this.selectedItems[i].selectedId===n){r=i;break}t.splice(r,1);$.observable(this.selectedItems).remove(r);this.selectedItems.length===0&&this.showEmptyTray()},showEmptyTray:function(){$("#mediaSelectorModal").find(".selectPanel").append($("#mediaSelectorTrayEmptyTemplate").html());$("#mediaSelectorModal").find("#mediaSelectBtn").addClass("disabled").attr("disabled","disabled")},hideFromList:function(){for(var e=0;e<this.selectedItems.length;e++){$("#mediaSelectorModal").find(".thumbnail[id='"+this.selectedItems[e].selectedId+"']").addClass("hide");e%5===0&&$("#mediaSelectorModal .tab-content").trigger("scroll")}},addSelectedHover:function(){$("#mediaSelectorModal .selectedThumb").hoverIntent({over:function(){$(this).find(".mediaOverlay").show()},timeout:100,out:function(){$(this).find(".mediaOverlay").hide()}})},showUploadModal:function(){if(Pb.Component.Upload===undefined)window.location="/upload?location="+Pb.Data.Shared.get(Pb.Data.Shared.MEDIA_SELECTOR_ALBUM).location;else{this.showingUploadModal=!0;$("#mediaSelectorModal").modal("hide")}}});return e}();$.getObject("Pb.Component.Library.MediaSelector").Tabs=function(){function r(t){e=t}function i(e){t=e}function s(e,t,r,i,s){Pb.Data.Shared.put(Pb.Data.Shared.MEDIA_SELECTOR,e.objects);var o={query:t,scrollContainer:"#mediaSelectorModal .tab-content",contentContainer:"#mediaSelectorModal #mediaSelectorTab",trackablePages:!1,pageSize:20},u=new Pb.Component.Element.InfiniteCollection.InfiniteCollection(o);n=new Pb.Component.Library.MediaSelector.ThumbnailList({pbDataKey:Pb.Data.Shared.MEDIA_SELECTOR,ic:u,userId:r,albumName:i,container:s,query:t});$.views.allowCode=!0}function o(){n!==undefined&&(n.query=null)}function u(){$(".thumbnailLink.media","#mediaSelectorModal").addClass(e).attr("href","#").data("link",e);var n=$('<div class="mediaOverlay">'+t+"</div>"),r={over:function(){$(this).append(n)},timeout:100,out:function(){$(this).find(".mediaOverlay").remove()}};$("#mediaSelectorModal .thumbnailLink.media").hoverIntent(r)}function a(e,t){Pb.JSTemplates.link("#mediaSelectorAlbumThumbnailTemplate",t,e.objects)}function f(e){e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();var t=$("#selectorTabs"),n;t.find("li a").data("url",e.currentTarget.href);o();$("#mediaSelectorTab").empty();n=t.find('li a[href="#mediaSelectorTab"]');n.parent("li").removeClass("active");t.find('li a[href="#albumSelectorTab"]').parent("li").addClass("active");n.tab("show");$("#albumSelectorTab").empty();return!1}var e=null,t="Select",n;return{initMediaThumbs:s,initAlbumThumbs:a,setEventSelector:r,setHoverText:i,updateThumbs:u,invokeTab:f,resetQuery:o}}();$.getObject("Pb.Component.Element.InfiniteCollection",!0).InfiniteCollection=function(){function e(e){this.init(e)}$.extend(e.prototype,{query:null,offset:0,total:0,pageSize:24,loadProximity:100,working:!1,scrollContainer:null,contentContainer:null,complete:!1,scrollEvent:"scroll",trackablePages:!0,scrollTarget:window,loadingIndicator:null,fetchOnScroll:!0,scrollEventsActive:!1,isOrganizer:!1,slideshow:!1,paused:!1,currentPage:0,pagedItemsContainer:null,init:function(e){e.query&&(this.query=e.query);e.startOffset>-1&&(this.offset=e.startOffset);this.total=e.total;e.pageSize&&(this.pageSize=e.pageSize);this.onLoadMore=e.onLoadMore;this.onLoadMoreViaQuery=e.onLoadMoreViaQuery;e.scrollContainer&&(this.scrollContainer=e.scrollContainer);e.contentContainer&&(this.contentContainer=e.contentContainer);e.pagedItemsContainer&&(this.pagedItemsContainer=e.pagedItemsContainer);e.loadProximity&&(this.loadProximity=e.loadProximity);e.loadingIndicator&&(this.loadingIndicator=e.loadingIndicator);e.hasOwnProperty("trackablePages")&&(this.trackablePages=e.trackablePages);e.hasOwnProperty("slideshow")&&(this.slideshow=e.slideshow);this.forceScrollbar();this.initEvents()},initEvents:function(){this.initScrollEvents();$(window).on("resize",$.proxy(this.forceScrollbar,this));$(document).on("Organizer::active",$.proxy(function(){this.isOrganizer=!0},this)).on("Organizer::inactive",$.proxy(function(){this.isOrganizer=!1},this))},initScrollEvents:function(){if(!this.scrollEventsActive){if(this.scrollContainer!==null){this.scrollTarget=this.scrollContainer;$(this.scrollContainer).on("scroll.infiniteCollection",$.throttle(200,$.proxy(this.onScroll,this)))}else{this.scrollTarget=window;$(window).on("scroll.infiniteCollection",$.throttle(200,$.proxy(this.onScroll,this)))}this.scrollEventsActive=!0}},removeScrollEvents:function(){if(this.scrollEventsActive){$(this.scrollTarget).off(".infiniteCollection");this.scrollEventsActive=!1}},reset:function(e,t,n,r){this.offset=e;this.total=t;n&&(this.query=n);this.onLoadMoreViaQuery=r;if(!this.total||this.offset<this.total){if(this.complete){this.complete=!1;this.initScrollEvents()}}else if(this.offset===this.total){this.complete=!0;this.removeScrollEvents()}},pause:function(){this.paused=!0},resume:function(){this.paused=!1},onScroll:function(){if(!this.fetchOnScroll||this.complete||this.paused)return;var e,t;if(this.done)return;if(this.scrollContainer!==null&&this.contentContainer!==null){e=$(this.contentContainer).height()-$(this.scrollContainer).height();t=Math.abs(e-$(this.scrollContainer).scrollTop())}else{e=$(document).height()-$(window).height();t=Math.abs(e-$(window).scrollTop())}this.onScrollDone(t)},onTouchScroll:function(){if(!this.fetchOnScroll||this.complete)return;var e;if(this.done)return;e=$(document).height()-$(window).height()-$(window).scrollTop();this.onScrollDone(e)},onScrollDone:function(e){if(this.working)return;e<=this.loadProximity&&this.loadMore();var t=0,n=$(window).scrollTop(),r=n+$(window).height();for(;;){var i=$(this.pagedItemsContainer).eq(t*this.pageSize);if(i.length===0)break;var s=i.offset().top,o=s+i.height(),u=s>=n;if(u)break;t+=1}if(t!==this.currentPage){this.currentPage=t;this.pageScrolledIntoView(this.currentPage)}},loadMore:function(e){this.working=!0;e||this.showLoadingIndicator();this.query===null?this.onLoadMore(this.offset,this.pageSize):this.onLoadMoreViaQuery(this.offset,this.query);this.currentPage=this.offset/this.pageSize;this.track()},pageScrolledIntoView:function(e){this.onPageScrolledIntoView(e);this.track()},forceScrollbar:function(){if(this.scrollContainer===null&&this.contentContainer===null){var e=$("#footer"),t,n;if(e.length){t=$(window).height();n=t;this.fetchOnScroll&&(n+=3);$("#content").css("min-height",n+"px")}}},setContainer:function(e){this.container=$("#"+e)},onLoadMore:function(e,t){},onLoadMoreViaQuery:function(e,t){},onPageScrolledIntoView:function(e){},moreLoaded:function(e){this.fetchFinished();this.offset+=e;if(e===0||e<this.pageSize){this.removeScrollEvents();this.complete=!0}else $(this.scrollTarget).trigger(this.scrollEvent)},fetchFinished:function(){this.hideLoadingIndicator();this.working=!1},showLoadingIndicator:function(){this.loadingIndicator!==null&&$(this.loadingIndicator).removeClass("hide")},hideLoadingIndicator:function(){this.loadingIndicator!==null&&$(this.loadingIndicator).addClass("hide")},track:function(){var e="";if(this.slideshow)return;!this.isOrganizer&&this.trackablePages&&(this.query&&this.query.indexOf("filters[story]")>-1?Pb.PageTracker.trackContentRefreshPageView({pb_pg:"library:stories"}):this.query&&this.query.indexOf("filters[album]")>-1?Pb.PageTracker.trackContentRefreshPageView({pb_pg:"library:library"}):Pb.PageTracker.trackContentRefreshPageView());if(this.isOrganizer)e="infinite_scroll_organizer_view";else{if(!this.query)return;this.query.indexOf("filters[album]")>-1?e="infinite_scroll_library_view":this.query.indexOf("filters[term]=Popular")>-1?e="infinite_scroll_popular_view":this.query.indexOf("filters[term]")>-1?e="infinite_scroll_search_view":this.query.indexOf("filters[recentUploads]")>-1?e="infinite_scroll_recentuploads_view":this.query.indexOf("filters[likes]")>-1&&(e="infinite_scroll_likes_view")}e!==""&&Pb.Track.tr(e)}});return e}();$.getObject("Pb",!0).ThumbnailListBase=function(){function e(e){}var t={pbDataKey:null,fetchServiceUrl:null,fetchParams:null,linked:!1,bannnerAdCreated:!1,mrecAdCreated:!1,infiniteScrollAds:!0,baseInit:function(){var e=Pb.Data.Shared.get(this.pbDataKey);this.appendToObjects(e)},resetObjects:function(e){this.linked=!1;Pb.Data.Shared.put(this.pbDataKey,e);this.appendToObjects(e)},linkTemplate:function(e){Pb.JSTemplates.link(this.templateTarget,this.container,e);this.linked=!0},appendToObjects:function(e){if(!this.returnData){Pb.Data.Shared.sync(this.pbDataKey,e);if(!this.linked)this.linkTemplate(e);else{var t=Pb.Data.Shared.get(this.pbDataKey);$.observable(t).insert(t.length,e)}}typeof this.onObjectsAppended=="function"&&this.onObjectsAppended(e)},fetchMoreContent:function(){var e=this.fetchParams.size===undefined?"large":this.fetchParams.size,t=Pb.Data.has("gridThumbnailSize")?Pb.Data.get("gridThumbnailSize"):e,n=$.extend({},this.fetchParams,{size:t});Pb.Ajax.ajax({url:this.fetchServiceUrl,data:n,success:$.proxy(this.handleFetchMoreContent,this),error:$.proxy(this.onFetchMoreFailed,this),type:"get"})},onFetchMoreFailed:function(e){},insertAd:function(e,t){var n=0,r=!1;if(e!==null&&e!==undefined&&e.length>0&&this.infiniteScrollAds){var i=this.ic.pageSize;n=Math.ceil(this.ic.offset/i)-1;r=!0}else{n=t;r=!0}if(!r)return;this.placeSkyscraperAd();n<1&&this.removeInfiniteScrollAds();if(n>=2&&n%2==0){this.refreshSkyscraperAd();this.refreshBottomBannerAd();this.refreshPaginationMrecAd()}},placeSkyscraperAd:function(){var e=$(".skyscraperAd");if(e.length){e.css("left",e.offset().left+"px");e.css("top","10px");e.css("position","fixed");$(window).on("scroll.infiniteScrollAds",function(){$(window).scrollTop()<$(".ad.bannerAd:first").height()+50?e.css("position","static"):e.css("position","fixed")})}},refreshSkyscraperAd:$.throttle(5e3,!0,function(){var e=$(".skyscraperAd");e.length&&Pb.Component.Ad.AdRefresh.refresh(Pb.Component.Ad.AdRefresh.AD_SKYSCRAPER,Pb.Component.Ad.AdRefresh.AD_SKYSCRAPER,"pos=inf")}),createBottomBannerAd:function(){function t(){$(window).scrollTop()<$(".ad.bannerAd:first").height()?$("."+e).hide():$("."+e).show()}var e="bannerAd2";this.bannerAdCreated=!0;$("body").append("<div class='ad bannerAd "+e+"' style='position:fixed; bottom: 0; width: 100%; z-index: 2; padding: 5px 0;'></div>");$(window).on("scroll.infiniteScrollAds",$.throttle(250,t));t()},refreshBottomBannerAd:$.throttle(5e3,!0,function(){$(".bannerAd").length>0&&(this.bannerAdCreated||this.createBottomBannerAd());var e="bannerAd2";Pb.Component.Ad.AdRefresh.refresh(Pb.Component.Ad.AdRefresh.AD_BANNER,e,"pos=inf")}),createPaginationMrecAd:function(){function n(){$(window).scrollTop()<$(".sidebar").position().top+$(".sidebar").height()+50?$("."+e).hide():$("."+e).show()}var e="mrec2";this.mrecAdCreated=!0;var t=$(this.container).offset().left+$(this.container).width()+20;$("body").append("<div class='ad mrec "+e+"' style='position:fixed; top: 10px; left:  "+t+"px; min-height:250px;width:300px;'></div>");$(window).on("resize.infiniteScrollAds",$.proxy(function(){var t=$(this.container).offset().left+$(this.container).width()+20;$("div."+e).css("left",t+"px")},this));$(window).on("scroll.infiniteScrollAds",$.throttle(250,n));n()},refreshPaginationMrecAd:$.throttle(5e3,!0,function(){$(".mrec").length>0&&(this.mrecAdCreated||this.createPaginationMrecAd());var e="mrec2";Pb.Component.Ad.AdRefresh.refresh(Pb.Component.Ad.AdRefresh.AD_MREC,e,"pos=inf")}),removeInfiniteScrollAds:function(){$("div.mrec2").remove();this.mrecAdCreated=!1;$("div.bannerAd2").remove();this.bannerAdCreated=!1;$(window).off(".infiniteScrollAds")},enableInfiniteScrollAds:function(){this.infiniteScrollAds=!0},disableInfiniteScrollAds:function(){this.infiniteScrollAds=!1;this.removeInfiniteScrollAds()}};$.extend(e.prototype,t);return e}();$.getObject("Pb.Component.Library.MediaSelector",!0).ThumbnailList=function(){function e(e){this.init(e)}var t=new Pb.ThumbnailListBase,n={fetchParams:null,fetchServiceUrl:null,container:"",templateTarget:null,pbDataKey:null,ic:null,userId:null,albumName:null,query:null,sort:null,init:function(e){this.pbDataKey=e.pbDataKey;this.ic=e.ic;this.query=e.query;this.userId=e.userId;this.albumName=e.albumName;this.sort=e.sort;this.container="#"+e.container;this.templateTarget="#mediaSelectorThumbnailTemplate";this.initEvents();this.baseInit()},initEvents:function(){this.ic.onLoadMoreViaQuery=$.proxy(this.onLoadMoreViaQuery,this)},handleFetchMoreContent:function(e){this.appendToObjects(e.objects)},onLoadMoreViaQuery:function(e,t){if(this.query){this.fetchParams={offset:e};this.fetchServiceUrl="/component/Library-MediaSelector-MediaThumbnailList?"+t;this.fetchMoreContent()}},onObjectsAppended:function(e){var t=e.length;this.ic.moreLoaded(t);Pb.Component.Library.MediaSelector.Tabs.updateThumbs()}};$.extend(e.prototype,n,t);return e}();$.getObject("Pb.Component.Thumbnail",!0).Thumbnail=function(){function r(){var e=$("div.gridThumbnail:not(.organizerThumbnail)");e.find("div.optionsMenu:visible").hide();e.find("div.statsMenu:visible").hide()}function i(n){if(t)return;var i=n.find(".optionsHandle"),s=n.find(".optionsMenu");i.length&&i.hoverIntent({over:function(){e&&e.hide();var t=$(this).siblings(".optionsMenu");t.show();e=t},out:function(){}});s.length!==0&&s.hoverIntent({over:function(){},out:function(){$(this).hide()},timeout:100});n.on("mouseleave",r)}function s(){e&&e.hide();$(this).parents(".thumbnail").find(".statsMenu").show();n+=1}function o(){n-=1;n===0&&r()}function u(e){var t={over:s,timeout:750,out:o},n=e.find(".statsHandle"),r=e.find(".statsMenu");n.length!==0&&n.hoverIntent(t);r.length!==0&&r.hoverIntent(t)}function a(e){e.find(".badge").tooltip()}function f(){var e=$("div.gridThumbnail:not(.organizerThumbnail)");if(!e.length)return;i(e);u(e);a(e)}var e=null,t=$(document.documentElement).hasClass("is_iPad"),n=0;Pb.InitEventQueue.add(f);return{init:f}}();(function(){function e(){e.superclass.constructor.call(this)}var t={parentAlbumPath:null,albumPath:null,mode:null,notify:!1,notifyOnTitleChange:!1,albumPrivacyLevel:null,albumPrivacyPassword:null,albumVanity:null,albumIsRoot:null,chooser:null,passwordMsg:"Passwords must be at least 6 characters long. They can only contain the characters a-z, A-Z, 0-9, -, and _. Spaces are not allowed.",init:function(t){var n={eventName:"Pb.Component.Album.Edit::show",modalId:"#editAlbumModal",modalName:"editAlbumModal",showProgress:!0,refreshAdsOnHide:!0};t&&$.extend(n,t);e.superclass.init.call(this,n);this.initEvents()},initEvents:function(){Pb.InitEventQueue.addToDomReady($.proxy(function(){$("#editAlbumModal > form").on("submit",$.proxy(this.onSubmit,this));$(document).on("click",".editAlbumAction",function(e){e.preventDefault();var t={mode:$(this).attr("data-mode"),notify:$(this).attr("data-notify"),notifyOnTitleChange:$(this).attr("data-notifyontitlechange")};if(!Pb.Data.Albums){t.albumPath=$(this).attr("data-albumpath");t.albumTitle=$(this).attr("data-albumtitle");t.albumDescription=$(this).attr("data-albumdescription");t.albumPrivacyLevel=$(this).attr("data-albumprivacylevel");t.albumPrivacyPassword=$(this).attr("data-albumprivacypassword");t.albumVanity=$(this).attr("data-albumvanity");t.albumIsRoot=$(this).attr("data-albumisroot")}$(document).trigger($.Event("Pb.Component.Album.Edit::show",t))});var e=$("#editAlbumChooser");e.on("AlbumChooserDropdown::albums_loading",$.proxy(this.onAlbumsLoading,this));e.on("AlbumChooserDropdown::albums_loaded",$.proxy(this.onAlbumsLoaded,this));e.on("AlbumChooserDropdown::album_selected",$.proxy(this.onAlbumSelected,this));this.chooser=new Pb.Component.Album.Chooser.AlbumChooserDropdown({albumChooserId:"#editAlbumChooser"})},this))},buildSubmitData:function(){return this.mode==="create"?this.buildCreateAlbumData():this.buildEditAlbumData()},getPrivacyPassword:function(){var e="";$("#privacyPasswordCheckbox").is(":checked")&&(e=$("#privacyPassword").val());return e},buildCreateAlbumData:function(){var e={parentAlbumPath:this.parentAlbumPath,name:$("#editAlbumTitle").val(),description:$("#editAlbumDescription").val(),privacyLevel:$("input:radio[name=privacyLevel]:checked").val(),privacyPassword:this.getPrivacyPassword(),vanityName:$("#editAlbumVanity").val(),reloadPage:this.notify?!1:!0};return e},buildEditAlbumData:function(){var e={albumPath:this.albumPath,parentAlbumPath:this.parentAlbumPath,name:$("#editAlbumTitle").val(),description:$("#editAlbumDescription").val(),vanityName:$("#editAlbumVanity").val(),rootHint:this.albumIsRoot?1:0};$("input#privacyLevelPrivate").is(":checked")?e.privacyLevel=$("#privacyPasswordCheckbox").is(":checked")?"password":"private":e.privacyLevel="public";var t=this.getPrivacyPassword();if(e.privacyLevel==="password"&&t!==this.albumPrivacyPassword){var n,r=/^[\w-]{6,50}$/;if($.trim(t)===""){n={status:0,message:"",details:this.passwordMsg};Pb.Component.Element.Message.show(n);return!1}if(!r.test(t)){n={status:0,message:"",details:this.passwordMsg};Pb.Component.Element.Message.show(n);return!1}e.privacyPassword=t}return e},onSubmit:function(){this.mode==="create"?this.submitUrl="/action/album/create":this.submitUrl="/action/album/update";e.superclass.onSubmit.apply(this,arguments)},onSuccess:function(e){var t=e.status,n=e.data;if(t)if(this.mode==="create")this.notify?$(document).trigger("EditAlbum::createAlbumCompleted",n):this.onCreateSuccess(n);else if(n.titleChange&&this.notifyOnTitleChange)$(document).trigger("EditAlbum::albumTitleChange",n);else if(n.titleChange||!this.notify)this.onEditSuccess(n);else{var r=Pb.Data.Albums.getCurrentAlbum();r.mergeData(n);$(document).trigger($.Event("Pb.Component.Album.Edit.EditAlbum::editAlbumCompleted"))}$("#editAlbumModal input[type=submit]").attr("disabled",!1)},onCreateSuccess:function(e){window.location=e.libraryUrl},onEditSuccess:function(e){document.location.href=e.libraryUrl},onFail:function(){$("#editAlbumModal > form").find("input[type=submit]").attr("disabled",!1)},messageHandler:function(e){if(e.memo&&e.memo!==""){$("."+e.memo+"Error").addClass("error");$("."+e.memo+"Error").siblings().find(".help-block").html(e.message);return!0}return!1},show:function(e,t,n,r,i,s,o,u,a){var f=$.Event("Pb.Component.Album.Edit::show",{mode:e,parentAlbumPath:t,albumPath:n,albumTitle:r,albumDescription:i,albumPrivacyLevel:s,albumPrivacyPassword:o,albumVanity:u,albumIsRoot:a});$(document).trigger(f)},hideOrShowAlbums:function(){if(this.mode==="create"){$(".editAlbumSelector").show();this.chooser&&this.chooser.loadAlbums()}else $(".editAlbumSelector").hide()},onAlbumsLoading:function(e){$("#createAlbumButton").attr("disabled",!0);$("#editAlbumChooser .dropdown").hide()},onAlbumsLoaded:function(e){$("#editAlbumChooser .dropdown").show();$("#createAlbumButton").attr("disabled",!1);this.parentAlbumPath&&this.chooser.setSelectedAlbum(this.parentAlbumPath)},onAlbumSelected:function(e){this.parentAlbumPath=e.albumData.albumpath},cleanupErrors:function(){$(".help-block").html("");$(".error").removeClass("error")},initializePrivacyDisplay:function(){var e=$("#privacyTitleCurrentSetting"),t=$("#privacyPasswordCheckbox"),n=$("#privacyPassword");if(this.albumPrivacyLevel==="public"||this.mode==="create"){e.html("Public");e.removeClass("privacySettingPrivateColor");e.addClass("privacySettingPublicColor");$("#privacyLevelPublic").prop("checked",!0);$("#privacyLevelPrivate").prop("checked",!1);t.attr("checked",!1);n.val("");n.prop("disabled",!0)}else{$("#privacyTitleCurrentSetting").html("Private");e.removeClass("privacySettingPublicColor");e.addClass("privacySettingPrivateColor");$("#privacyLevelPublic").prop("checked",!1);$("#privacyLevelPrivate").prop("checked",!0);if(this.albumPrivacyPassword!==null&&this.albumPrivacyPassword!==""){t.prop("checked",!0);t.prop("disabled",!1);n.val(this.albumPrivacyPassword);n.prop("disabled",!1)}else{t.prop("checked",!1);t.prop("disabled",!1);n.val("");n.prop("disabled",!0)}$("#privacyOptionsCollapsed").show();$("#privacyOptions").hide()}},onShow:function(e){this.mode=e.mode;this.notify=e.notify;this.notifyOnTitleChange=e.notifyOnTitleChange;if(Pb.Data.Albums){var t=Pb.Data.Albums.getCurrentAlbum();t||(t=Pb.Data.Albums.getRootAlbum());var n=t.hydrate(),r=this;$.when(n).then(function(){r.parentAlbumPath=t.getProperty("path");r.albumPath=t.getProperty("path");r.albumTitle=t.data.titleForTemplate.text;r.albumDescription=t.data.description.text;r.albumPrivacyLevel=t.getProperty("privacyType");r.albumPrivacyPassword=t.getProperty("privacyPassword");r.albumVanity=t.getProperty("albumVanity");r.albumIsRoot=t.getProperty("isRootAlbum");r.callSuperShow(e)})}else{this.parentAlbumPath=e.parentAlbumPath;this.albumPath=e.albumPath;this.albumTitle=e.albumTitle;this.albumDescription=e.albumDescription;this.albumPrivacyLevel=e.albumPrivacyLevel;this.albumPrivacyPassword=e.albumPrivacyPassword;this.albumVanity=e.albumVanity;this.albumIsRoot=e.albumIsRoot;this.callSuperShow(e)}},callSuperShow:function(t){if(this.mode==="create"){this.albumTitle="";this.albumDescription="";this.albumPrivacyPassword="";this.albumVanity="";this.albumIsRoot=!1;$("#editAlbumButton").hide();$("#createAlbumButton").show();$("#editAlbumHeaderTitle").html("Create New Album")}else{$("#createAlbumButton").hide();$("#editAlbumButton").show();this.albumIsRoot?$("#editAlbumHeaderTitle").html("Edit Library Settings"):$("#editAlbumHeaderTitle").html("Edit Album Settings")}$("#editAlbumTitle").val(this.albumTitle);if(this.albumIsRoot){$("#editAlbumTitle").closest(".editalbum-section").hide();$("#editAlbumTitle").attr("disabled",!0)}else{$("#editAlbumTitle").closest(".editalbum-section").show();$("#editAlbumTitle").attr("disabled",!1)}$("#editAlbumDescription").val(this.albumDescription);$("#editAlbumVanity").val(this.albumVanity);this.initializePrivacyDisplay();this.hideOrShowAlbums();if(this.albumDescription!==null&&this.albumDescription!==undefined&&this.albumDescription.length>0){$("#descContainerCollapsed").hide();$("#descContainer").show()}else{$("#descContainerCollapsed").show();$("#descContainer").hide()}this.cleanupErrors();e.superclass.onShow.call(this,t)}};Pb.subclass(e,Pb.Modal.ModalActionBase,t);var n=new e;n.init();return n})();$.getObject("Pb.Component.Album.Edit",!0).Description=function(){function e(e){this.init(e)}$.extend(e.prototype,{init:function(e){this.initEvents()},initEvents:function(){$("#editAlbumShowDescriptionButton").bind("click",$.proxy(function(){this.onShow()},this))},onShow:function(){$(".descContainerCollapsed").hide();$(".descContainer").show()}});return e}();$.getObject("Pb.Component.Album.Edit",!0).Privacy=function(){function e(e){this.init(e)}$.extend(e.prototype,Pb.InputValidator.prototype,{init:function(e){this.initEvents()},initEvents:function(){Pb.InitEventQueue.addToDomReady($.proxy(function(){$("#privacyEditButton").on("click",$.proxy(this.onShow,this));$("input:radio[name=privacyLevel]").change($.proxy(this.onRadioChange,this));$("#privacyPasswordCheckbox").change($.proxy(this.onCheckboxChange,this));$("#editAlbumButton").click($.proxy(this.validatePw,this));$("#privacyPassword").blur($.proxy(this.validatePw,this));$(document).on("keyup",".error #privacyPassword",$.proxy(this.validatePw,this))},this))},onShow:function(){$("#privacyOptionsCollapsed").hide();$("#privacyOptions").show()},onCheckboxChange:function(e){var t=$("#privacyPassword"),n=$("#privacyPasswordCheckbox");if(n.is(":checked")){t.prop("disabled",!1);t.val("")}else{$(".passwordContainer").removeClass("error");t.prop("disabled",!0);t.val("")}},onRadioChange:function(e){var t=e.target.value,n=$("#privacyPassword"),r=$("#privacyPasswordCheckbox");if(t!==$("#privacyLevelPrivate").val()){r.prop("disabled",!0);r.prop("checked",!1);n.prop("disabled",!0);n.val("")}else{r.prop("disabled",!1);n.prop("disabled",!0)}},validatePw:function(e){var t=$("#privacyPassword"),n=t.parent();n.removeClass("error");if($("#privacyPasswordCheckbox").attr("checked")==="checked"){var r=new Pb.InputValidator,i=t.val(),s=r.validPassword(i);if(!s){n.addClass("error");e.preventDefault();e.stopPropagation()}}}});return e}();$.getObject("Pb.Component.Album.Chooser",!0).AlbumChooserDropdown=function(){function e(e){this.init(e)}$.extend(e.prototype,{albumChooserId:null,listSelector:null,dropdownSelector:null,spanSelector:null,anchorSelector:null,filter:null,element:null,init:function(e){e.filter&&(this.filter=e.filter);this.albumChooserId=e.albumChooserId;this.element=$(this.albumChooserId);this.listSelector=this.albumChooserId+" .albumChooserList";this.dropdownSelector=this.albumChooserId+" .dropdown";this.spanSelector=this.albumChooserId+" a[data-toggle] > span";this.anchorSelector=this.albumChooserId+" a[data-toggle]";this.initEvents()},initEvents:function(){if($(this.listSelector).length){var e;Pb.Data.has("albumChooser.data."+this.element.attr("id"))?e=Pb.Data.get("albumChooser.data."+this.element.attr("id")):e=Pb.Data.add("albumChooser.data."+this.element.attr("id"),{});Pb.JSTemplates.link("#albumChooserDropdownItemTemplate",this.listSelector,e)}this.bindElements()},bindElements:function(){this.element.on("click",".dropdown > .dropdown-menu li a.available",$.proxy(function(e){this.onChooserClick(e)},this));this.element.on("click",".dropdown .createAlbum",$.proxy(this.createNewAlbum,this));$(document).on("EditAlbum::createAlbumCompleted",$.proxy(this.onAlbumCreated,this))},onChooserClick:function(e){e.preventDefault();var t=$(e.currentTarget),n={albumpath:t.attr("data-albumpath"),albumshortpath:t.attr("data-albumshortpath"),albumurl:t.attr("data-albumurl"),name:t.attr("data-name"),displayName:t.html(),privacy:t.attr("data-privacy")};if(t.hasClass("disabled"))return;this.setSelectedAlbum(n.albumpath);this.triggerSelectedAlbumEvent(n)},setSelectedAlbum:function(e){if(e){e.match(/\/$/)&&(e=e.substring(0,e.length-1));var t=$(this.listSelector).find('a[data-albumpath="'+e+'"]');if(t.length){$(this.spanSelector).html(t.html());$(this.anchorSelector).attr("data-location",t.attr("data-location"));$(this.anchorSelector).attr("data-albumpath",e)}}else{$(this.spanSelector).html("Select Album");$(this.anchorSelector).attr("data-location","");$(this.anchorSelector).attr("data-albumpath","")}},triggerSelectedAlbumEvent:function(e){var t=$.Event("AlbumChooserDropdown::album_selected");t.albumData=e;this.element.trigger(t)},loadAlbums:function(e){if(Pb.Data.get(this.fetchedKey(e))){this.syncData(Pb.Data.get(this.dataKey(e)));return}this.showProgress();var t="/component/Album-Chooser-AlbumChooserDropdown";this.element.trigger($.Event("AlbumChooserDropdown::albums_loading"));var n={};this.filter!==null&&(n.filter=this.filter);typeof e!="undefined"&&(n.path=e);var r={url:t,data:n,success:$.proxy(function(t){this.onAlbumsLoadSuccess(t,e)},this),error:$.proxy(this.onAlbumsLoadFail,this),type:"get"};Pb.Ajax.ajax(r)},onAlbumsLoadSuccess:function(e,t){this.hideProgress();Pb.Data.add(this.fetchedKey(t),!0);Pb.Data.add(this.dataKey(t),e);this.syncData(e)},onAlbumsLoadFail:function(e){this.hideProgress();typeof console!="undefined"&&console.log(e)},syncData:function(e){Pb.JSTemplates.link("#albumChooserDropdownItemTemplate",this.listSelector,e);this.element.show().trigger($.Event("AlbumChooserDropdown::albums_loaded"))},createNewAlbum:function(e){var t=$(this.anchorSelector).attr("data-albumpath"),n={type:"Pb.Component.Album.Edit::show",mode:"create",notify:!0};t&&(n.parentAlbumPath=t);$(document).trigger(n)},onAlbumCreated:function(e,t){var n=Pb.Data.get(this.dataKey()),r=t.path.substring(0,t.path.lastIndexOf("/")),i=$(this.listSelector).find('a[data-albumpath="'+r+'"]').parent(),s,o,u,a=0,f,l,c=0;if(i.length){s=$(this.listSelector+" li").index(i);if(s<n.length){c=parseInt(n[s].optionClass.match(/depth(\d)+/,"")[1],10)+1;for(f=s+1;f<n.length;f++)if(n[f].optionClass){l=n[f].optionClass.match(/depth(\d)+/);if(l===null)break;if(!(parseInt(l[1],10)>=s))break;a++}o=n[s].optionClass.replace(/depth(\d)+/,"depth"+c);u={displayName:t.dirName,name:t.dirName,optionClass:o,path:t.path,shortPath:t.location,url:t.url};$.observable(n).insert(s+a+1,u);var h="private";t.isPublic?h="public":t.hasVisitorPassword&&(h="password");this.setSelectedAlbum(t.path);this.triggerSelectedAlbumEvent({albumpath:t.path,albumshortpath:t.location,albumurl:t.url,displayName:t.dirName,name:t.dirName,privacy:h})}}},hideProgress:function(){$(this.albumChooserId).find(".progress").hide()},showProgress:function(){$(this.albumChooserId).find(".progress").show()},fetchedKey:function(e){var t="albumChooser.fetched."+this.element.attr("id");this.filter&&(t+=this.filter);e&&(t+=e);return t},dataKey:function(e){var t="albumChooser.data."+this.element.attr("id");this.filter&&(t+=this.filter);e&&(t+=e);return t}});return e}();$.getObject("Pb.Component.Common.Login",!0).LoginModal=function(){function e(t){e.superclass.constructor.call(this)}$.extend(e.prototype,{init:function(t){var n={eventName:"LoginModal::show",modalId:"#loginModal",modalName:"loginModal"};t&&$.extend(n,t);this.authReturnTargetKey="authReturnTarget";this.authReturnTargetEventName="LoginModal::authReturnTarget";e.superclass.init.call(this,n);this.initEvents(n)},initEvents:function(e){$(document).trigger($.Event("ActionEventsDispatcher::registerevent",{pbEvent:{eventSelector:".showLoginModal",eventType:"click",event:e.eventName}}));this.initAuthReturnTargetAction()},initAuthReturnTargetAction:function(){this.hasAuthReturnTargetCookie()&&$(document).on(this.authReturnTargetEventName,$.proxy(function(){var e="#"+Pb.Utilities.cookie(this.authReturnTargetKey);if($(e).length>0){$(e).click();Pb.Utilities.cookie(this.authReturnTargetKey,null)}},this))},hasAuthReturnTargetCookie:function(){var e=Pb.Utilities.cookie(this.authReturnTargetKey);return e!==null?!0:!1},onShow:function(t){var n=$(t.pbEventTarget),r,i,s,o=$(n).data("authreturntarget");this.hasAuthReturnTargetCookie()&&Pb.Utilities.cookie(this.authReturnTargetKey,null);o!==undefined&&Pb.Utilities.cookie(this.authReturnTargetKey,o,{expires:""});var u=Pb.Data.get(this.modalName);u.loginBox.originalIframeUrl||(u.loginBox.originalIframeUrl=u.loginBox.iframeUrl);u.loginBox.iframeUrl=u.loginBox.originalIframeUrl;i=Pb.Data.get("authReturnUrl");i!==null&&(u.loginBox.iframeUrl+="&returnUrl="+encodeURIComponent(i));e.superclass.onShow.call(this,t)}});Pb.subclass(e,Pb.Component.Element.Modal,e.prototype);var t=new e;Pb.InitEventQueue.add(function(){t.init()});return t}();(function(){function e(){var e=Pb.Data.get("authReturnUrl"),n;$(document).on("Pb.Component.Navigation.LoginBox::show",t);if(e!==null&&$("p.signup a").length>0){n=$("p.signup a").attr("href");n.indexOf("returnUrl")===-1&&$("p.signup a").attr("href",n+"?returnUrl="+encodeURIComponent(e))}}function t(){var e=$("#loginBoxFrame");e.attr("src")||e.attr("src",e.data("src"))}Pb.InitEventQueue.add(e,Pb.InitEventQueue.LOW_PRIORITY)})();$.getObject("Pb.Component.ExternalSite",!0).Register=function(){function e(e){if(e.status===1)e.connectInfo&&e.connectInfo.redirect?location.href=e.connectInfo.redirect:e.connectInfo&&e.connectInfo.forwardto?location.href=e.connectInfo.forwardto:location.href="/";else if(e.connectInfo&&e.connectInfo.redirect)location.href=e.connectInfo.redirect;else if(e.connectInfo&&!e.connectInfo.loggedIn){var t="";e.connectInfo&&e.connectInfo.forwardto&&(t="?returnUrl="+e.connectInfo.forwardto);location.href="/register"+t}else e.connectInfo&&e.connectInfo.forwardto&&(location.href=e.connectInfo.forwardto)}function t(t,n){var r=Pb.Data.get("authReturnUrl");if(r!==null){var i=$(".register-facebook:first").attr("href");i&&i.indexOf("forwardto")===-1&&$(".register-facebook").attr("href",i+"&forwardto="+encodeURIComponent(r));var s=$(".register-twitter:first").attr("href");s&&s.indexOf("forwardto")===-1&&$(".register-twitter").attr("href",s+"&forwardto="+encodeURIComponent(r))}$(document).one("Pb.Component.ExternalSite.Connect::connect",e);Pb.Component.ExternalSite.Connect.connect(t.href,!0);n&&Pb.Track.tr(n);return!1}Pb.InitEventQueue.add(function(){$.views.helpers({getExternalSiteRegisterClickHandler:function(e){e||(e="");return'Pb.Component.ExternalSite.Register.register(this, "'+e+'");return false;'}})});return{register:t}}();$.getObject("Pb.Component.ExternalSite",!0).Connect=function(){function n(n,r){e=open(n,"auth","width=650,height=350,scrollbars=no,location=no,modal=yes,alwaysRaised=yes");if(!e)return!1;e.focus();r&&(t=setInterval(function(){var n=Pb.Data.get("connectResponse");if(n){clearInterval(t);r.call(this);e.close()}else if(e.closed){clearInterval(t);r.call(this)}},300));return!0}function r(e){e.messages&&e.messages.length>0&&Pb.Component.Element.Message.show(e.messages[0]);$(document).trigger({type:"Pb.Component.ExternalSite.Connect::connect",connectInfo:e.data,status:e.status})}function i(e,t){Pb.Component.Element.Message.remove();Pb.Data.add("connectResponse","");n(e,function(){var e=Pb.Data.get("connectResponse");if(e){e.status===0&&Pb.Track.tr("regpage_externallogin_view");if(!t&&e.status&&e.data.siteAuth&&e.data.siteAuth.siteId===2&&e.data.siteAuth.publishState.toLowerCase()!=="auto"){$(document).one("AutoPublishModal::hide",$.proxy(function(){r(e)},this)).one("AutoPublishModal::success",$.proxy(function(){e.data.siteAuth.publishState="Auto"},this));Pb.Component.ExternalSite.AutoPublishModal.setConnected();Pb.Component.ExternalSite.AutoPublishModal.onShow()}else r(e)}else $(document).trigger({type:"Pb.Component.ExternalSite.Connect::connect",status:0});e&&e.data&&e.data.profilePic&&Pb.Component.Common.ProfilePic.ProfilePic.update(e.data.profilePic)})}function s(e){e.messages&&e.messages.length>0&&Pb.Component.Element.Message.show(e.messages[0]);$(document).trigger({type:"Pb.Component.ExternalSite.Connect::connect",connectInfo:e.data,status:e.status})}function o(e,t){Pb.Component.Element.Message.remove();Pb.Data.add("connectResponse","");n(e,function(){var e=Pb.Data.get("connectResponse"),n,r,i;if(e&&e.status&&e.data&&e.data.permissions){for(n=0;n<t.length;n++){r=!1;for(i in e.data.permissions)e.data.permissions.hasOwnProperty(i)&&i===t[n]&&(r=!0);r||$(document).trigger({type:"Pb.Component.ExternalSite.Connect::permissions",status:0})}$(document).trigger({type:"Pb.Component.ExternalSite.Connect::permissions",connectInfo:e.data,status:e.status});return}$(document).trigger({type:"Pb.Component.ExternalSite.Connect::permissions",status:0})})}var e,t;return{connect:i,getPermissions:o}}();$.getObject("Pb.Component.ExternalSite",!0).AutoPublishModal=function(){function e(){e.superclass.constructor.call(this)}var t,n={init:function(t){var n={shownEvent:"AutoPublishModal::shown",modalId:"#autoPublishModal",modalName:"autoPublishModal",submitButtonId:"#autoPublishYesButton",submitUrl:"/action/externalSite/updateAutoShare",hideEvent:"AutoPublishModal::hide",showProgress:!0};t&&$.extend(n,t);e.superclass.init.call(this,n);$(document).on("DisconnectConfirm::success",$.proxy(function(e){var t=$(this.modalId).find("form [name=siteId]").val(),n=Pb.Data.get(this.modalName);if(e.siteId===t){n.sites[t]=!1;$(this.submitButtonId).attr("onclick","Pb.Component.ExternalSite.AutoPublishModal.connectToService(this); return false;")}},this));$(document).on("Pb.Component.ExternalSite.Connect::connect",$.proxy(function(e){var t=$(this.modalId).find("form [name=siteId]").val();e.status===1&&e.connectInfo.siteId===t&&this.setConnected()},this))},setConnected:function(){$(this.submitButtonId).data("connected",!0).attr("onclick","")},onShow:function(t){t||(t={});var n=Pb.Data.get(this.modalName),r=n.siteId;if(n&&n.sites&&n.sites[r])return;e.superclass.onShow.call(this,t);$(this.submitButtonId).on("click",$.proxy(this.onSubmit,this))},buildSubmitData:function(){var e=$(this.modalId).find("form"),t={siteId:e.find("[name=siteId]").val(),autoshare:"true"};return t},onSuccess:function(){$(document).trigger("AutoPublishModal::success");var e=Pb.Data.get(this.modalName),t=$(this.modalId).find("form [name=siteId]").val();e.sites[t]=!0},onFail:function(e){if(e&&e.data&&e.data.requiredPermissions){var t=$(this.submitButtonId);if(t.length){$(document).one("Pb.Component.ExternalSite.Connect::permissions",$.proxy(function(e){e.status===1?this.submit():Pb.Component.Element.Message.show({status:Pb.Component.Element.Message.STATUS_ERROR,message:"You must grant us permission to publish to your Timeline."})},this));Pb.Component.ExternalSite.Connect.getPermissions(t.attr("href"),e.data.requiredPermissions)}}},onSubmit:function(t){t.preventDefault();$(t.currentTarget).data("connected")&&e.superclass.onSubmit.call(this,t)},connectToService:function(e){$(document).one("Pb.Component.ExternalSite.Connect::connect",$.proxy(this.connectHandler,this));Pb.Component.ExternalSite.Connect.connect(e.href,!0)},connectHandler:function(e){e.status===1&&this.submit()}};Pb.subclass(e,Pb.Component.Element.Modal,n);t=new e;Pb.InitEventQueue.add(function(){t.init()});return t}();